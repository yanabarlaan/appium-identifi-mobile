'use strict';

require("source-map-support/register");

const through = require('through2');

const EE = require('events').EventEmitter;

module.exports = function combine(pipeFn) {
  const inStream = through.obj();
  const outStream = pipeFn(inStream);
  const combinedStream = new EE();
  combinedStream.on('pipe', function onPipe(source) {
    source.unpipe(this);
    source.pipe(inStream);
  });

  combinedStream.pipe = function pipeFn(dest, options) {
    return outStream.pipe(dest, options);
  };

  return combinedStream;
};require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3N0cmVhbS1jb21iaW5lci5qcyIsIm5hbWVzIjpbInRocm91Z2giLCJyZXF1aXJlIiwiRUUiLCJFdmVudEVtaXR0ZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiY29tYmluZSIsInBpcGVGbiIsImluU3RyZWFtIiwib2JqIiwib3V0U3RyZWFtIiwiY29tYmluZWRTdHJlYW0iLCJvbiIsIm9uUGlwZSIsInNvdXJjZSIsInVucGlwZSIsInBpcGUiLCJkZXN0Iiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiLi4vLi4iLCJzb3VyY2VzIjpbImxpYi9zdHJlYW0tY29tYmluZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKTtcbmNvbnN0IEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZSAocGlwZUZuKSB7XG4gIGNvbnN0IGluU3RyZWFtID0gdGhyb3VnaC5vYmooKTtcbiAgY29uc3Qgb3V0U3RyZWFtID0gcGlwZUZuKGluU3RyZWFtKTtcbiAgY29uc3QgY29tYmluZWRTdHJlYW0gPSBuZXcgRUUoKTsgLy8gbm90IGEgcmVhbCBzdHJlYW0sIGp1c3QgcHJldGVuZGluZ1xuICBjb21iaW5lZFN0cmVhbS5vbigncGlwZScsIGZ1bmN0aW9uIG9uUGlwZSAoc291cmNlKSB7XG4gICAgc291cmNlLnVucGlwZSh0aGlzKTtcbiAgICBzb3VyY2UucGlwZShpblN0cmVhbSk7XG4gIH0pO1xuICBjb21iaW5lZFN0cmVhbS5waXBlID0gZnVuY3Rpb24gcGlwZUZuIChkZXN0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG91dFN0cmVhbS5waXBlKGRlc3QsIG9wdGlvbnMpO1xuICB9O1xuICByZXR1cm4gY29tYmluZWRTdHJlYW07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRSxZQUE3Qjs7QUFHQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLE9BQVQsQ0FBa0JDLE1BQWxCLEVBQTBCO0VBQ3pDLE1BQU1DLFFBQVEsR0FBR1IsT0FBTyxDQUFDUyxHQUFSLEVBQWpCO0VBQ0EsTUFBTUMsU0FBUyxHQUFHSCxNQUFNLENBQUNDLFFBQUQsQ0FBeEI7RUFDQSxNQUFNRyxjQUFjLEdBQUcsSUFBSVQsRUFBSixFQUF2QjtFQUNBUyxjQUFjLENBQUNDLEVBQWYsQ0FBa0IsTUFBbEIsRUFBMEIsU0FBU0MsTUFBVCxDQUFpQkMsTUFBakIsRUFBeUI7SUFDakRBLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLElBQWQ7SUFDQUQsTUFBTSxDQUFDRSxJQUFQLENBQVlSLFFBQVo7RUFDRCxDQUhEOztFQUlBRyxjQUFjLENBQUNLLElBQWYsR0FBc0IsU0FBU1QsTUFBVCxDQUFpQlUsSUFBakIsRUFBdUJDLE9BQXZCLEVBQWdDO0lBQ3BELE9BQU9SLFNBQVMsQ0FBQ00sSUFBVixDQUFlQyxJQUFmLEVBQXFCQyxPQUFyQixDQUFQO0VBQ0QsQ0FGRDs7RUFHQSxPQUFPUCxjQUFQO0FBQ0QsQ0FaRCJ9
