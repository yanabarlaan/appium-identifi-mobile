'use strict';

require("source-map-support/register");

const e2eTest = require('./e2e-test');

const unitTest = require('./unit-test');

const configure = function configure(gulp, opts, env) {
  const testEnv = {
    testDeps: opts.transpile ? ['transpile'] : [],
    ...env
  };
  let testTasks = [];

  if (opts.test) {
    unitTest.configure(gulp, opts, testEnv);
    testTasks.push('unit-test');
  }

  if (opts.e2eTest) {
    e2eTest.configure(gulp, opts, testEnv);
    testTasks.push('e2e-test');
  }

  if (testTasks.length) {
    gulp.task('test', gulp.series(testTasks));
  }
};

module.exports = {
  configure
};require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3Rhc2tzL3Rlc3QuanMiLCJuYW1lcyI6WyJlMmVUZXN0IiwicmVxdWlyZSIsInVuaXRUZXN0IiwiY29uZmlndXJlIiwiZ3VscCIsIm9wdHMiLCJlbnYiLCJ0ZXN0RW52IiwidGVzdERlcHMiLCJ0cmFuc3BpbGUiLCJ0ZXN0VGFza3MiLCJ0ZXN0IiwicHVzaCIsImxlbmd0aCIsInRhc2siLCJzZXJpZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLiIsInNvdXJjZXMiOlsibGliL3Rhc2tzL3Rlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBlMmVUZXN0ID0gcmVxdWlyZSgnLi9lMmUtdGVzdCcpO1xuY29uc3QgdW5pdFRlc3QgPSByZXF1aXJlKCcuL3VuaXQtdGVzdCcpO1xuXG5cbmNvbnN0IGNvbmZpZ3VyZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZSAoZ3VscCwgb3B0cywgZW52KSB7XG4gIGNvbnN0IHRlc3RFbnYgPSB7XG4gICAgdGVzdERlcHM6IG9wdHMudHJhbnNwaWxlID8gWyd0cmFuc3BpbGUnXSA6IFtdLFxuICAgIC4uLmVudlxuICB9O1xuXG4gIGxldCB0ZXN0VGFza3MgPSBbXTtcbiAgaWYgKG9wdHMudGVzdCkge1xuICAgIHVuaXRUZXN0LmNvbmZpZ3VyZShndWxwLCBvcHRzLCB0ZXN0RW52KTtcbiAgICB0ZXN0VGFza3MucHVzaCgndW5pdC10ZXN0Jyk7XG4gIH1cblxuICBpZiAob3B0cy5lMmVUZXN0KSB7XG4gICAgZTJlVGVzdC5jb25maWd1cmUoZ3VscCwgb3B0cywgdGVzdEVudik7XG4gICAgdGVzdFRhc2tzLnB1c2goJ2UyZS10ZXN0Jyk7XG4gIH1cblxuICBpZiAodGVzdFRhc2tzLmxlbmd0aCkge1xuICAgIGd1bHAudGFzaygndGVzdCcsIGd1bHAuc2VyaWVzKHRlc3RUYXNrcykpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29uZmlndXJlLFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxZQUFELENBQXZCOztBQUNBLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBR0EsTUFBTUUsU0FBUyxHQUFHLFNBQVNBLFNBQVQsQ0FBb0JDLElBQXBCLEVBQTBCQyxJQUExQixFQUFnQ0MsR0FBaEMsRUFBcUM7RUFDckQsTUFBTUMsT0FBTyxHQUFHO0lBQ2RDLFFBQVEsRUFBRUgsSUFBSSxDQUFDSSxTQUFMLEdBQWlCLENBQUMsV0FBRCxDQUFqQixHQUFpQyxFQUQ3QjtJQUVkLEdBQUdIO0VBRlcsQ0FBaEI7RUFLQSxJQUFJSSxTQUFTLEdBQUcsRUFBaEI7O0VBQ0EsSUFBSUwsSUFBSSxDQUFDTSxJQUFULEVBQWU7SUFDYlQsUUFBUSxDQUFDQyxTQUFULENBQW1CQyxJQUFuQixFQUF5QkMsSUFBekIsRUFBK0JFLE9BQS9CO0lBQ0FHLFNBQVMsQ0FBQ0UsSUFBVixDQUFlLFdBQWY7RUFDRDs7RUFFRCxJQUFJUCxJQUFJLENBQUNMLE9BQVQsRUFBa0I7SUFDaEJBLE9BQU8sQ0FBQ0csU0FBUixDQUFrQkMsSUFBbEIsRUFBd0JDLElBQXhCLEVBQThCRSxPQUE5QjtJQUNBRyxTQUFTLENBQUNFLElBQVYsQ0FBZSxVQUFmO0VBQ0Q7O0VBRUQsSUFBSUYsU0FBUyxDQUFDRyxNQUFkLEVBQXNCO0lBQ3BCVCxJQUFJLENBQUNVLElBQUwsQ0FBVSxNQUFWLEVBQWtCVixJQUFJLENBQUNXLE1BQUwsQ0FBWUwsU0FBWixDQUFsQjtFQUNEO0FBQ0YsQ0FwQkQ7O0FBc0JBTSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZmQ7QUFEZSxDQUFqQiJ9
