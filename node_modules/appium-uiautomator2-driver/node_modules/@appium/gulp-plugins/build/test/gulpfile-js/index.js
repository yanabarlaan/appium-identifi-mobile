'use strict';

require("source-map-support/register");

const gulp = require('gulp');

const {
  Transpiler,
  isVerbose,
  spawnWatcher
} = require('../..');

const vinylPaths = require('vinyl-paths');

const del = require('del');

const debug = require('gulp-debug');

const gulpIf = require('gulp-if');

gulp.task('clean-fixtures', function () {
  return gulp.src('build-fixtures', {
    read: false,
    allowEmpty: true
  }).pipe(vinylPaths(del));
});
gulp.task('transpile-es7-fixtures', function () {
  let transpiler = new Transpiler();
  return gulp.src('test/fixtures/es7/**/*.js').pipe(gulpIf(isVerbose(), debug())).pipe(transpiler.stream()).on('error', spawnWatcher.handleError).pipe(gulp.dest('build-fixtures'));
});
gulp.task('transpile-fixtures', gulp.series('clean-fixtures', 'transpile-es7-fixtures'));

require('./test-es7');

require('./generate');require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9ndWxwZmlsZS1qcy9pbmRleC5qcyIsIm5hbWVzIjpbImd1bHAiLCJyZXF1aXJlIiwiVHJhbnNwaWxlciIsImlzVmVyYm9zZSIsInNwYXduV2F0Y2hlciIsInZpbnlsUGF0aHMiLCJkZWwiLCJkZWJ1ZyIsImd1bHBJZiIsInRhc2siLCJzcmMiLCJyZWFkIiwiYWxsb3dFbXB0eSIsInBpcGUiLCJ0cmFuc3BpbGVyIiwic3RyZWFtIiwib24iLCJoYW5kbGVFcnJvciIsImRlc3QiLCJzZXJpZXMiXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uIiwic291cmNlcyI6WyJ0ZXN0L2d1bHBmaWxlLWpzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZ3VscCA9IHJlcXVpcmUoJ2d1bHAnKTtcbmNvbnN0IHsgVHJhbnNwaWxlciwgaXNWZXJib3NlLCBzcGF3bldhdGNoZXIgfSA9IHJlcXVpcmUoJy4uLy4uJyk7XG5jb25zdCB2aW55bFBhdGhzID0gcmVxdWlyZSgndmlueWwtcGF0aHMnKTtcbmNvbnN0IGRlbCA9IHJlcXVpcmUoJ2RlbCcpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdndWxwLWRlYnVnJyk7XG5jb25zdCBndWxwSWYgPSByZXF1aXJlKCdndWxwLWlmJyk7XG5cblxuZ3VscC50YXNrKCdjbGVhbi1maXh0dXJlcycsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGd1bHBcbiAgICAuc3JjKCdidWlsZC1maXh0dXJlcycsIHtyZWFkOiBmYWxzZSwgYWxsb3dFbXB0eTogdHJ1ZX0pXG4gICAgLnBpcGUodmlueWxQYXRocyhkZWwpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ3RyYW5zcGlsZS1lczctZml4dHVyZXMnLCBmdW5jdGlvbiAoKSB7XG4gIGxldCB0cmFuc3BpbGVyID0gbmV3IFRyYW5zcGlsZXIoKTtcbiAgcmV0dXJuIGd1bHBcbiAgICAuc3JjKCd0ZXN0L2ZpeHR1cmVzL2VzNy8qKi8qLmpzJylcbiAgICAucGlwZShndWxwSWYoaXNWZXJib3NlKCksIGRlYnVnKCkpKVxuICAgIC5waXBlKHRyYW5zcGlsZXIuc3RyZWFtKCkpXG4gICAgLm9uKCdlcnJvcicsIHNwYXduV2F0Y2hlci5oYW5kbGVFcnJvcilcbiAgICAucGlwZShndWxwLmRlc3QoJ2J1aWxkLWZpeHR1cmVzJykpO1xufSk7XG5cbmd1bHAudGFzaygndHJhbnNwaWxlLWZpeHR1cmVzJywgZ3VscC5zZXJpZXMoJ2NsZWFuLWZpeHR1cmVzJywgJ3RyYW5zcGlsZS1lczctZml4dHVyZXMnKSk7XG5cbnJlcXVpcmUoJy4vdGVzdC1lczcnKTtcbnJlcXVpcmUoJy4vZ2VuZXJhdGUnKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU07RUFBRUMsVUFBRjtFQUFjQyxTQUFkO0VBQXlCQztBQUF6QixJQUEwQ0gsT0FBTyxDQUFDLE9BQUQsQ0FBdkQ7O0FBQ0EsTUFBTUksVUFBVSxHQUFHSixPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNSyxHQUFHLEdBQUdMLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1NLEtBQUssR0FBR04sT0FBTyxDQUFDLFlBQUQsQ0FBckI7O0FBQ0EsTUFBTU8sTUFBTSxHQUFHUCxPQUFPLENBQUMsU0FBRCxDQUF0Qjs7QUFHQUQsSUFBSSxDQUFDUyxJQUFMLENBQVUsZ0JBQVYsRUFBNEIsWUFBWTtFQUN0QyxPQUFPVCxJQUFJLENBQ1JVLEdBREksQ0FDQSxnQkFEQSxFQUNrQjtJQUFDQyxJQUFJLEVBQUUsS0FBUDtJQUFjQyxVQUFVLEVBQUU7RUFBMUIsQ0FEbEIsRUFFSkMsSUFGSSxDQUVDUixVQUFVLENBQUNDLEdBQUQsQ0FGWCxDQUFQO0FBR0QsQ0FKRDtBQU1BTixJQUFJLENBQUNTLElBQUwsQ0FBVSx3QkFBVixFQUFvQyxZQUFZO0VBQzlDLElBQUlLLFVBQVUsR0FBRyxJQUFJWixVQUFKLEVBQWpCO0VBQ0EsT0FBT0YsSUFBSSxDQUNSVSxHQURJLENBQ0EsMkJBREEsRUFFSkcsSUFGSSxDQUVDTCxNQUFNLENBQUNMLFNBQVMsRUFBVixFQUFjSSxLQUFLLEVBQW5CLENBRlAsRUFHSk0sSUFISSxDQUdDQyxVQUFVLENBQUNDLE1BQVgsRUFIRCxFQUlKQyxFQUpJLENBSUQsT0FKQyxFQUlRWixZQUFZLENBQUNhLFdBSnJCLEVBS0pKLElBTEksQ0FLQ2IsSUFBSSxDQUFDa0IsSUFBTCxDQUFVLGdCQUFWLENBTEQsQ0FBUDtBQU1ELENBUkQ7QUFVQWxCLElBQUksQ0FBQ1MsSUFBTCxDQUFVLG9CQUFWLEVBQWdDVCxJQUFJLENBQUNtQixNQUFMLENBQVksZ0JBQVosRUFBOEIsd0JBQTlCLENBQWhDOztBQUVBbEIsT0FBTyxDQUFDLFlBQUQsQ0FBUDs7QUFDQUEsT0FBTyxDQUFDLFlBQUQsQ0FBUCJ9
