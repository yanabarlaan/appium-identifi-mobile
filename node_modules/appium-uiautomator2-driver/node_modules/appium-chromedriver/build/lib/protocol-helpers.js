"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getCapValue = getCapValue;
exports.toW3cCapNames = toW3cCapNames;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _baseDriver = require("@appium/base-driver");

const W3C_PREFIX = 'goog:';

function toW3cCapName(capName) {
  return _lodash.default.isString(capName) && !capName.includes(':') && !(0, _baseDriver.isStandardCap)(capName) ? `${W3C_PREFIX}${capName}` : capName;
}

function getCapValue(allCaps = {}, rawCapName, defaultValue) {
  for (const [capName, capValue] of _lodash.default.toPairs(allCaps)) {
    if (toW3cCapName(capName) === toW3cCapName(rawCapName)) {
      return capValue;
    }
  }

  return defaultValue;
}

function toW3cCapNames(originalCaps = {}) {
  return _lodash.default.reduce(originalCaps, (acc, value, key) => {
    acc[toW3cCapName(key)] = value;
    return acc;
  }, {});
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3Byb3RvY29sLWhlbHBlcnMuanMiLCJuYW1lcyI6WyJXM0NfUFJFRklYIiwidG9XM2NDYXBOYW1lIiwiY2FwTmFtZSIsIl8iLCJpc1N0cmluZyIsImluY2x1ZGVzIiwiZ2V0Q2FwVmFsdWUiLCJhbGxDYXBzIiwicmF3Q2FwTmFtZSIsImRlZmF1bHRWYWx1ZSIsImNhcFZhbHVlIiwidG9QYWlycyIsInRvVzNjQ2FwTmFtZXMiLCJvcmlnaW5hbENhcHMiLCJyZWR1Y2UiLCJhY2MiLCJ2YWx1ZSIsImtleSJdLCJzb3VyY2VSb290IjoiLi4vLi4iLCJzb3VyY2VzIjpbImxpYi9wcm90b2NvbC1oZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBpc1N0YW5kYXJkQ2FwIH0gZnJvbSAnQGFwcGl1bS9iYXNlLWRyaXZlcic7XG5cbmNvbnN0IFczQ19QUkVGSVggPSAnZ29vZzonO1xuXG5mdW5jdGlvbiB0b1czY0NhcE5hbWUgKGNhcE5hbWUpIHtcbiAgcmV0dXJuIChfLmlzU3RyaW5nKGNhcE5hbWUpICYmICFjYXBOYW1lLmluY2x1ZGVzKCc6JykgJiYgIWlzU3RhbmRhcmRDYXAoY2FwTmFtZSkpXG4gICAgPyBgJHtXM0NfUFJFRklYfSR7Y2FwTmFtZX1gXG4gICAgOiBjYXBOYW1lO1xufVxuXG5mdW5jdGlvbiBnZXRDYXBWYWx1ZSAoYWxsQ2FwcyA9IHt9LCByYXdDYXBOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgZm9yIChjb25zdCBbY2FwTmFtZSwgY2FwVmFsdWVdIG9mIF8udG9QYWlycyhhbGxDYXBzKSkge1xuICAgIGlmICh0b1czY0NhcE5hbWUoY2FwTmFtZSkgPT09IHRvVzNjQ2FwTmFtZShyYXdDYXBOYW1lKSkge1xuICAgICAgcmV0dXJuIGNhcFZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuXG5mdW5jdGlvbiB0b1czY0NhcE5hbWVzIChvcmlnaW5hbENhcHMgPSB7fSkge1xuICByZXR1cm4gXy5yZWR1Y2Uob3JpZ2luYWxDYXBzLCAoYWNjLCB2YWx1ZSwga2V5KSA9PiB7XG4gICAgYWNjW3RvVzNjQ2FwTmFtZShrZXkpXSA9IHZhbHVlO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cblxuZXhwb3J0IHsgdG9XM2NDYXBOYW1lcywgZ2V0Q2FwVmFsdWUgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLE9BQW5COztBQUVBLFNBQVNDLFlBQVQsQ0FBdUJDLE9BQXZCLEVBQWdDO0VBQzlCLE9BQVFDLGdCQUFFQyxRQUFGLENBQVdGLE9BQVgsS0FBdUIsQ0FBQ0EsT0FBTyxDQUFDRyxRQUFSLENBQWlCLEdBQWpCLENBQXhCLElBQWlELENBQUMsK0JBQWNILE9BQWQsQ0FBbkQsR0FDRixHQUFFRixVQUFXLEdBQUVFLE9BQVEsRUFEckIsR0FFSEEsT0FGSjtBQUdEOztBQUVELFNBQVNJLFdBQVQsQ0FBc0JDLE9BQU8sR0FBRyxFQUFoQyxFQUFvQ0MsVUFBcEMsRUFBZ0RDLFlBQWhELEVBQThEO0VBQzVELEtBQUssTUFBTSxDQUFDUCxPQUFELEVBQVVRLFFBQVYsQ0FBWCxJQUFrQ1AsZ0JBQUVRLE9BQUYsQ0FBVUosT0FBVixDQUFsQyxFQUFzRDtJQUNwRCxJQUFJTixZQUFZLENBQUNDLE9BQUQsQ0FBWixLQUEwQkQsWUFBWSxDQUFDTyxVQUFELENBQTFDLEVBQXdEO01BQ3RELE9BQU9FLFFBQVA7SUFDRDtFQUNGOztFQUNELE9BQU9ELFlBQVA7QUFDRDs7QUFFRCxTQUFTRyxhQUFULENBQXdCQyxZQUFZLEdBQUcsRUFBdkMsRUFBMkM7RUFDekMsT0FBT1YsZ0JBQUVXLE1BQUYsQ0FBU0QsWUFBVCxFQUF1QixDQUFDRSxHQUFELEVBQU1DLEtBQU4sRUFBYUMsR0FBYixLQUFxQjtJQUNqREYsR0FBRyxDQUFDZCxZQUFZLENBQUNnQixHQUFELENBQWIsQ0FBSCxHQUF5QkQsS0FBekI7SUFDQSxPQUFPRCxHQUFQO0VBQ0QsQ0FITSxFQUdKLEVBSEksQ0FBUDtBQUlEIn0=
