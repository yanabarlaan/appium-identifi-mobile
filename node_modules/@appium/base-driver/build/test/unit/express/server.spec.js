"use strict";

require("source-map-support/register");

var _lib = require("../../../lib");

var _server2 = require("../../../lib/express/server");

var _sinon = require("sinon");

var _helpers = require("../../helpers");

const newMethodMap = {
  '/session/:sessionId/fake': {
    GET: {
      command: 'fakeGet'
    },
    POST: {
      command: 'fakePost',
      payloadParams: {
        required: ['fakeParam']
      }
    }
  }
};

const updateServer = (app, httpServer) => {
  app.updated = true;
  httpServer.updated = true;
};

function fakeDriver() {
  return {
    sessionExists: () => {},
    executeCommand: () => {}
  };
}

describe('server configuration', function () {
  let port;
  let sandbox;

  function fakeApp() {
    const app = {
      use: sandbox.spy(),
      all: sandbox.spy(),
      get: sandbox.spy(),
      post: sandbox.spy(),
      delete: sandbox.spy(),
      totalCount: () => app.use.callCount + app.all.callCount + app.get.callCount + app.post.callCount + app.delete.callCount
    };
    return app;
  }

  before(async function () {
    port = await (0, _helpers.getTestPort)(true);
  });
  beforeEach(function () {
    sandbox = (0, _sinon.createSandbox)();
  });
  afterEach(function () {
    sandbox.restore();
  });
  it('should actually use the middleware', function () {
    const app = fakeApp();

    const configureRoutes = () => {};

    (0, _server2.configureServer)({
      app,
      addRoutes: configureRoutes
    });
    app.use.callCount.should.equal(14);
    app.all.callCount.should.equal(4);
  });
  it('should apply new methods in plugins to the standard method map', function () {
    const app1 = fakeApp();
    const app2 = fakeApp();
    const driver = fakeDriver();
    const addRoutes = (0, _lib.routeConfiguringFunction)(driver);
    (0, _server2.configureServer)({
      app: app1,
      addRoutes
    });
    (0, _server2.configureServer)({
      app: app2,
      addRoutes,
      extraMethodMap: newMethodMap
    });
    app2.totalCount().should.eql(app1.totalCount() + 2);
  });
  it('should silently reject new methods in plugins if not plain objects', function () {
    const app1 = fakeApp();
    const app2 = fakeApp();
    const driver = fakeDriver();
    const addRoutes = (0, _lib.routeConfiguringFunction)(driver);
    (0, _server2.configureServer)({
      app: app1,
      addRoutes
    });
    (0, _server2.configureServer)({
      app: app2,
      addRoutes,
      extraMethodMap: []
    });
    app2.totalCount().should.eql(app1.totalCount());
  });
  it('should allow plugins to update the server', async function () {
    const driver = fakeDriver();

    const _server = await (0, _lib.server)({
      routeConfiguringFunction: (0, _lib.routeConfiguringFunction)(driver),
      port,
      extraMethodMap: newMethodMap,
      serverUpdaters: [updateServer]
    });

    try {
      _server.updated.should.be.true;
    } finally {
      await _server.close();
    }
  });
  it('should reject if error thrown in configureRoutes parameter', async function () {
    const configureRoutes = () => {
      throw new Error('I am Mr. MeeSeeks look at me!');
    };

    await (0, _lib.server)({
      routeConfiguringFunction: configureRoutes,
      port
    }).should.be.rejectedWith('MeeSeeks');
  });
  describe('#normalizeBasePath', function () {
    it('should throw an error for paths of the wrong type', function () {
      should.throw(() => {
        (0, _server2.normalizeBasePath)(null);
      });
      should.throw(() => {
        (0, _server2.normalizeBasePath)(1);
      });
    });
    it('should remove trailing slashes', function () {
      (0, _server2.normalizeBasePath)('/wd/hub/').should.eql('/wd/hub');
      (0, _server2.normalizeBasePath)('/foo/').should.eql('/foo');
      (0, _server2.normalizeBasePath)('/').should.eql('');
    });
    it('should ensure a leading slash is present', function () {
      (0, _server2.normalizeBasePath)('foo').should.eql('/foo');
      (0, _server2.normalizeBasePath)('wd/hub').should.eql('/wd/hub');
      (0, _server2.normalizeBasePath)('wd/hub/').should.eql('/wd/hub');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJuZXdNZXRob2RNYXAiLCJHRVQiLCJjb21tYW5kIiwiUE9TVCIsInBheWxvYWRQYXJhbXMiLCJyZXF1aXJlZCIsInVwZGF0ZVNlcnZlciIsImFwcCIsImh0dHBTZXJ2ZXIiLCJ1cGRhdGVkIiwiZmFrZURyaXZlciIsInNlc3Npb25FeGlzdHMiLCJleGVjdXRlQ29tbWFuZCIsImRlc2NyaWJlIiwicG9ydCIsInNhbmRib3giLCJmYWtlQXBwIiwidXNlIiwic3B5IiwiYWxsIiwiZ2V0IiwicG9zdCIsImRlbGV0ZSIsInRvdGFsQ291bnQiLCJjYWxsQ291bnQiLCJiZWZvcmUiLCJiZWZvcmVFYWNoIiwiYWZ0ZXJFYWNoIiwicmVzdG9yZSIsIml0IiwiY29uZmlndXJlUm91dGVzIiwiYWRkUm91dGVzIiwic2hvdWxkIiwiZXF1YWwiLCJhcHAxIiwiYXBwMiIsImRyaXZlciIsImV4dHJhTWV0aG9kTWFwIiwiZXFsIiwiX3NlcnZlciIsInJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbiIsInNlcnZlclVwZGF0ZXJzIiwiYmUiLCJ0cnVlIiwiY2xvc2UiLCJFcnJvciIsInJlamVjdGVkV2l0aCIsInRocm93Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdGVzdC91bml0L2V4cHJlc3Mvc2VydmVyLnNwZWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdHJhbnNwaWxlOm1vY2hhXG5cbmltcG9ydCB7IHNlcnZlciwgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vbGliJztcbmltcG9ydCB7IGNvbmZpZ3VyZVNlcnZlciwgbm9ybWFsaXplQmFzZVBhdGggfSBmcm9tICcuLi8uLi8uLi9saWIvZXhwcmVzcy9zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlU2FuZGJveCB9IGZyb20gJ3Npbm9uJztcbmltcG9ydCB7IGdldFRlc3RQb3J0IH0gZnJvbSAnLi4vLi4vaGVscGVycyc7XG5cbmNvbnN0IG5ld01ldGhvZE1hcCA9IHtcbiAgJy9zZXNzaW9uLzpzZXNzaW9uSWQvZmFrZSc6IHtcbiAgICBHRVQ6IHtjb21tYW5kOiAnZmFrZUdldCd9LFxuICAgIFBPU1Q6IHtjb21tYW5kOiAnZmFrZVBvc3QnLCBwYXlsb2FkUGFyYW1zOiB7cmVxdWlyZWQ6IFsnZmFrZVBhcmFtJ119fVxuICB9LFxufTtcblxuY29uc3QgdXBkYXRlU2VydmVyID0gKGFwcCwgaHR0cFNlcnZlcikgPT4ge1xuICBhcHAudXBkYXRlZCA9IHRydWU7XG4gIGh0dHBTZXJ2ZXIudXBkYXRlZCA9IHRydWU7XG59O1xuXG5mdW5jdGlvbiBmYWtlRHJpdmVyICgpIHtcbiAgcmV0dXJuIHtzZXNzaW9uRXhpc3RzOiAoKSA9PiB7fSwgZXhlY3V0ZUNvbW1hbmQ6ICgpID0+IHt9fTtcbn1cblxuZGVzY3JpYmUoJ3NlcnZlciBjb25maWd1cmF0aW9uJywgZnVuY3Rpb24gKCkge1xuICBsZXQgcG9ydDtcblxuICBsZXQgc2FuZGJveDtcblxuICBmdW5jdGlvbiBmYWtlQXBwICgpIHtcbiAgICBjb25zdCBhcHAgPSB7XG4gICAgICB1c2U6IHNhbmRib3guc3B5KCksXG4gICAgICBhbGw6IHNhbmRib3guc3B5KCksXG4gICAgICBnZXQ6IHNhbmRib3guc3B5KCksXG4gICAgICBwb3N0OiBzYW5kYm94LnNweSgpLFxuICAgICAgZGVsZXRlOiBzYW5kYm94LnNweSgpLFxuICAgICAgdG90YWxDb3VudDogKCkgPT4gKFxuICAgICAgICBhcHAudXNlLmNhbGxDb3VudCArIGFwcC5hbGwuY2FsbENvdW50ICsgYXBwLmdldC5jYWxsQ291bnQgKyBhcHAucG9zdC5jYWxsQ291bnQgK1xuICAgICAgICBhcHAuZGVsZXRlLmNhbGxDb3VudFxuICAgICAgKVxuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbiAgfVxuXG4gIGJlZm9yZShhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgcG9ydCA9IGF3YWl0IGdldFRlc3RQb3J0KHRydWUpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBzYW5kYm94ID0gY3JlYXRlU2FuZGJveCgpO1xuICB9KTtcblxuICBhZnRlckVhY2goZnVuY3Rpb24gKCkge1xuICAgIHNhbmRib3gucmVzdG9yZSgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFjdHVhbGx5IHVzZSB0aGUgbWlkZGxld2FyZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhcHAgPSBmYWtlQXBwKCk7XG4gICAgY29uc3QgY29uZmlndXJlUm91dGVzID0gKCkgPT4ge307XG4gICAgY29uZmlndXJlU2VydmVyKHthcHAsIGFkZFJvdXRlczogY29uZmlndXJlUm91dGVzfSk7XG4gICAgYXBwLnVzZS5jYWxsQ291bnQuc2hvdWxkLmVxdWFsKDE0KTtcbiAgICBhcHAuYWxsLmNhbGxDb3VudC5zaG91bGQuZXF1YWwoNCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYXBwbHkgbmV3IG1ldGhvZHMgaW4gcGx1Z2lucyB0byB0aGUgc3RhbmRhcmQgbWV0aG9kIG1hcCcsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhcHAxID0gZmFrZUFwcCgpO1xuICAgIGNvbnN0IGFwcDIgPSBmYWtlQXBwKCk7XG4gICAgY29uc3QgZHJpdmVyID0gZmFrZURyaXZlcigpO1xuICAgIGNvbnN0IGFkZFJvdXRlcyA9IHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbihkcml2ZXIpO1xuICAgIGNvbmZpZ3VyZVNlcnZlcih7YXBwOiBhcHAxLCBhZGRSb3V0ZXN9KTtcbiAgICBjb25maWd1cmVTZXJ2ZXIoe2FwcDogYXBwMiwgYWRkUm91dGVzLCBleHRyYU1ldGhvZE1hcDogbmV3TWV0aG9kTWFwfSk7XG4gICAgYXBwMi50b3RhbENvdW50KCkuc2hvdWxkLmVxbChhcHAxLnRvdGFsQ291bnQoKSArIDIpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNpbGVudGx5IHJlamVjdCBuZXcgbWV0aG9kcyBpbiBwbHVnaW5zIGlmIG5vdCBwbGFpbiBvYmplY3RzJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGFwcDEgPSBmYWtlQXBwKCk7XG4gICAgY29uc3QgYXBwMiA9IGZha2VBcHAoKTtcbiAgICBjb25zdCBkcml2ZXIgPSBmYWtlRHJpdmVyKCk7XG4gICAgY29uc3QgYWRkUm91dGVzID0gcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uKGRyaXZlcik7XG4gICAgY29uZmlndXJlU2VydmVyKHthcHA6IGFwcDEsIGFkZFJvdXRlc30pO1xuICAgIGNvbmZpZ3VyZVNlcnZlcih7YXBwOiBhcHAyLCBhZGRSb3V0ZXMsIGV4dHJhTWV0aG9kTWFwOiBbXX0pO1xuICAgIGFwcDIudG90YWxDb3VudCgpLnNob3VsZC5lcWwoYXBwMS50b3RhbENvdW50KCkpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFsbG93IHBsdWdpbnMgdG8gdXBkYXRlIHRoZSBzZXJ2ZXInLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZHJpdmVyID0gZmFrZURyaXZlcigpO1xuICAgIGNvbnN0IF9zZXJ2ZXIgPSBhd2FpdCBzZXJ2ZXIoe1xuICAgICAgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uOiByb3V0ZUNvbmZpZ3VyaW5nRnVuY3Rpb24oZHJpdmVyKSxcbiAgICAgIHBvcnQsXG4gICAgICBleHRyYU1ldGhvZE1hcDogbmV3TWV0aG9kTWFwLFxuICAgICAgc2VydmVyVXBkYXRlcnM6IFt1cGRhdGVTZXJ2ZXJdXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIF9zZXJ2ZXIudXBkYXRlZC5zaG91bGQuYmUudHJ1ZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXdhaXQgX3NlcnZlci5jbG9zZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgaWYgZXJyb3IgdGhyb3duIGluIGNvbmZpZ3VyZVJvdXRlcyBwYXJhbWV0ZXInLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29uZmlndXJlUm91dGVzID0gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJIGFtIE1yLiBNZWVTZWVrcyBsb29rIGF0IG1lIScpO1xuICAgIH07XG4gICAgYXdhaXQgc2VydmVyKHtcbiAgICAgIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbjogY29uZmlndXJlUm91dGVzLFxuICAgICAgcG9ydCxcbiAgICB9KS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKCdNZWVTZWVrcycpO1xuICB9KTtcblxuICBkZXNjcmliZSgnI25vcm1hbGl6ZUJhc2VQYXRoJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgZm9yIHBhdGhzIG9mIHRoZSB3cm9uZyB0eXBlJywgZnVuY3Rpb24gKCkge1xuICAgICAgc2hvdWxkLnRocm93KCgpID0+IHtcbiAgICAgICAgbm9ybWFsaXplQmFzZVBhdGgobnVsbCk7XG4gICAgICB9KTtcbiAgICAgIHNob3VsZC50aHJvdygoKSA9PiB7XG4gICAgICAgIG5vcm1hbGl6ZUJhc2VQYXRoKDEpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZW1vdmUgdHJhaWxpbmcgc2xhc2hlcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vcm1hbGl6ZUJhc2VQYXRoKCcvd2QvaHViLycpLnNob3VsZC5lcWwoJy93ZC9odWInKTtcbiAgICAgIG5vcm1hbGl6ZUJhc2VQYXRoKCcvZm9vLycpLnNob3VsZC5lcWwoJy9mb28nKTtcbiAgICAgIG5vcm1hbGl6ZUJhc2VQYXRoKCcvJykuc2hvdWxkLmVxbCgnJyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBlbnN1cmUgYSBsZWFkaW5nIHNsYXNoIGlzIHByZXNlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBub3JtYWxpemVCYXNlUGF0aCgnZm9vJykuc2hvdWxkLmVxbCgnL2ZvbycpO1xuICAgICAgbm9ybWFsaXplQmFzZVBhdGgoJ3dkL2h1YicpLnNob3VsZC5lcWwoJy93ZC9odWInKTtcbiAgICAgIG5vcm1hbGl6ZUJhc2VQYXRoKCd3ZC9odWIvJykuc2hvdWxkLmVxbCgnL3dkL2h1YicpO1xuICAgIH0pO1xuICB9KTtc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