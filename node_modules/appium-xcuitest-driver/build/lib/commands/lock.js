"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.commands = void 0;

require("source-map-support/register");

var _bluebird = _interopRequireDefault(require("bluebird"));

let commands = {};
exports.commands = commands;

commands.lock = async function lock(seconds) {
  await this.proxyCommand('/wda/lock', 'POST');

  if (isNaN(seconds)) {
    return;
  }

  const floatSeconds = parseFloat(seconds);

  if (floatSeconds <= 0) {
    return;
  }

  await _bluebird.default.delay(floatSeconds * 1000);
  await this.proxyCommand('/wda/unlock', 'POST');
};

commands.unlock = async function unlock() {
  await this.proxyCommand('/wda/unlock', 'POST');
};

commands.isLocked = async function isLocked() {
  return await this.proxyCommand('/wda/locked', 'GET');
};

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2NvbW1hbmRzL2xvY2suanMiLCJuYW1lcyI6WyJjb21tYW5kcyIsImxvY2siLCJzZWNvbmRzIiwicHJveHlDb21tYW5kIiwiaXNOYU4iLCJmbG9hdFNlY29uZHMiLCJwYXJzZUZsb2F0IiwiQiIsImRlbGF5IiwidW5sb2NrIiwiaXNMb2NrZWQiXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uIiwic291cmNlcyI6WyJsaWIvY29tbWFuZHMvbG9jay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5cbmxldCBjb21tYW5kcyA9IHt9O1xuXG5jb21tYW5kcy5sb2NrID0gYXN5bmMgZnVuY3Rpb24gbG9jayAoc2Vjb25kcykge1xuICBhd2FpdCB0aGlzLnByb3h5Q29tbWFuZCgnL3dkYS9sb2NrJywgJ1BPU1QnKTtcbiAgaWYgKGlzTmFOKHNlY29uZHMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZmxvYXRTZWNvbmRzID0gcGFyc2VGbG9hdChzZWNvbmRzKTtcbiAgaWYgKGZsb2F0U2Vjb25kcyA8PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgQi5kZWxheShmbG9hdFNlY29uZHMgKiAxMDAwKTtcbiAgYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy93ZGEvdW5sb2NrJywgJ1BPU1QnKTtcbn07XG5cbmNvbW1hbmRzLnVubG9jayA9IGFzeW5jIGZ1bmN0aW9uIHVubG9jayAoKSB7XG4gIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKCcvd2RhL3VubG9jaycsICdQT1NUJyk7XG59O1xuXG5jb21tYW5kcy5pc0xvY2tlZCA9IGFzeW5jIGZ1bmN0aW9uIGlzTG9ja2VkICgpIHtcbiAgcmV0dXJuIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKCcvd2RhL2xvY2tlZCcsICdHRVQnKTtcbn07XG5cbmV4cG9ydCB7IGNvbW1hbmRzIH07XG5leHBvcnQgZGVmYXVsdCBjb21tYW5kcztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxRQUFRLEdBQUcsRUFBZjs7O0FBRUFBLFFBQVEsQ0FBQ0MsSUFBVCxHQUFnQixlQUFlQSxJQUFmLENBQXFCQyxPQUFyQixFQUE4QjtFQUM1QyxNQUFNLEtBQUtDLFlBQUwsQ0FBa0IsV0FBbEIsRUFBK0IsTUFBL0IsQ0FBTjs7RUFDQSxJQUFJQyxLQUFLLENBQUNGLE9BQUQsQ0FBVCxFQUFvQjtJQUNsQjtFQUNEOztFQUVELE1BQU1HLFlBQVksR0FBR0MsVUFBVSxDQUFDSixPQUFELENBQS9COztFQUNBLElBQUlHLFlBQVksSUFBSSxDQUFwQixFQUF1QjtJQUNyQjtFQUNEOztFQUVELE1BQU1FLGlCQUFBLENBQUVDLEtBQUYsQ0FBUUgsWUFBWSxHQUFHLElBQXZCLENBQU47RUFDQSxNQUFNLEtBQUtGLFlBQUwsQ0FBa0IsYUFBbEIsRUFBaUMsTUFBakMsQ0FBTjtBQUNELENBYkQ7O0FBZUFILFFBQVEsQ0FBQ1MsTUFBVCxHQUFrQixlQUFlQSxNQUFmLEdBQXlCO0VBQ3pDLE1BQU0sS0FBS04sWUFBTCxDQUFrQixhQUFsQixFQUFpQyxNQUFqQyxDQUFOO0FBQ0QsQ0FGRDs7QUFJQUgsUUFBUSxDQUFDVSxRQUFULEdBQW9CLGVBQWVBLFFBQWYsR0FBMkI7RUFDN0MsT0FBTyxNQUFNLEtBQUtQLFlBQUwsQ0FBa0IsYUFBbEIsRUFBaUMsS0FBakMsQ0FBYjtBQUNELENBRkQ7O2VBS2VILFEifQ==
