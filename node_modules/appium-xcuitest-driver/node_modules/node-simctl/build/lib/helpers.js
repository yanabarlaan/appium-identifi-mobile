"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getXcrunBinary = exports.SIM_RUNTIME_NAME = exports.DEFAULT_EXEC_TIMEOUT = void 0;
exports.normalizeVersion = normalizeVersion;

require("source-map-support/register");

var _semver = _interopRequireDefault(require("semver"));

const DEFAULT_EXEC_TIMEOUT = 10 * 60 * 1000;
exports.DEFAULT_EXEC_TIMEOUT = DEFAULT_EXEC_TIMEOUT;
const SIM_RUNTIME_NAME = 'com.apple.CoreSimulator.SimRuntime.';
exports.SIM_RUNTIME_NAME = SIM_RUNTIME_NAME;

function normalizeVersion(version) {
  const semverVersion = _semver.default.coerce(version);

  if (!semverVersion) {
    throw new Error(`Unable to parse version '${version}'`);
  }

  return `${semverVersion.major}.${semverVersion.minor}`;
}

const getXcrunBinary = () => process.env.XCRUN_BINARY || 'xcrun';

exports.getXcrunBinary = getXcrunBinary;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2hlbHBlcnMuanMiLCJuYW1lcyI6WyJERUZBVUxUX0VYRUNfVElNRU9VVCIsIlNJTV9SVU5USU1FX05BTUUiLCJub3JtYWxpemVWZXJzaW9uIiwidmVyc2lvbiIsInNlbXZlclZlcnNpb24iLCJzZW12ZXIiLCJjb2VyY2UiLCJFcnJvciIsIm1ham9yIiwibWlub3IiLCJnZXRYY3J1bkJpbmFyeSIsInByb2Nlc3MiLCJlbnYiLCJYQ1JVTl9CSU5BUlkiXSwic291cmNlUm9vdCI6Ii4uLy4uIiwic291cmNlcyI6WyJsaWIvaGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcic7XG5cbmNvbnN0IERFRkFVTFRfRVhFQ19USU1FT1VUID0gMTAgKiA2MCAqIDEwMDA7IC8vIG1zXG5jb25zdCBTSU1fUlVOVElNRV9OQU1FID0gJ2NvbS5hcHBsZS5Db3JlU2ltdWxhdG9yLlNpbVJ1bnRpbWUuJztcblxuLyoqXG4gKiBcIk5vcm1hbGl6ZVwiIHRoZSB2ZXJzaW9uLCBzaW5jZSBpT1MgdXNlcyAnbWFqb3IubWlub3InIGJ1dCB0aGUgcnVudGltZXMgY2FuXG4gKiBiZSAnbWFqb3IubWlub3IucGF0Y2gnXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSB0aGUgc3RyaW5nIHZlcnNpb25cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZlcnNpb24gaW4gJ21ham9yLm1pbm9yJyBmb3JtXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHZlcnNpb24gbm90IHBhcnNlYWJsZSBieSB0aGUgYHNlbXZlcmAgcGFja2FnZVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVWZXJzaW9uICh2ZXJzaW9uKSB7XG4gIGNvbnN0IHNlbXZlclZlcnNpb24gPSBzZW12ZXIuY29lcmNlKHZlcnNpb24pO1xuICBpZiAoIXNlbXZlclZlcnNpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSB2ZXJzaW9uICcke3ZlcnNpb259J2ApO1xuICB9XG4gIHJldHVybiBgJHtzZW12ZXJWZXJzaW9uLm1ham9yfS4ke3NlbXZlclZlcnNpb24ubWlub3J9YDtcbn1cblxuZXhwb3J0IHtcbiAgREVGQVVMVF9FWEVDX1RJTUVPVVQsIFNJTV9SVU5USU1FX05BTUUsXG4gIG5vcm1hbGl6ZVZlcnNpb24sXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0WGNydW5CaW5hcnkgPSAoKSA9PiBwcm9jZXNzLmVudi5YQ1JVTl9CSU5BUlkgfHwgJ3hjcnVuJztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsb0JBQW9CLEdBQUcsS0FBSyxFQUFMLEdBQVUsSUFBdkM7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcscUNBQXpCOzs7QUFVQSxTQUFTQyxnQkFBVCxDQUEyQkMsT0FBM0IsRUFBb0M7RUFDbEMsTUFBTUMsYUFBYSxHQUFHQyxnQkFBT0MsTUFBUCxDQUFjSCxPQUFkLENBQXRCOztFQUNBLElBQUksQ0FBQ0MsYUFBTCxFQUFvQjtJQUNsQixNQUFNLElBQUlHLEtBQUosQ0FBVyw0QkFBMkJKLE9BQVEsR0FBOUMsQ0FBTjtFQUNEOztFQUNELE9BQVEsR0FBRUMsYUFBYSxDQUFDSSxLQUFNLElBQUdKLGFBQWEsQ0FBQ0ssS0FBTSxFQUFyRDtBQUNEOztBQU9NLE1BQU1DLGNBQWMsR0FBRyxNQUFNQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBWixJQUE0QixPQUF6RCJ9
