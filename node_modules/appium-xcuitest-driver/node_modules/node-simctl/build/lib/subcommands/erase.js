"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _asyncbox = require("asyncbox");

const commands = {};

commands.eraseDevice = async function eraseDevice(timeout = 1000) {
  const retries = parseInt(timeout / 200, 10);
  await (0, _asyncbox.retryInterval)(retries, 200, async () => await this.exec('erase', {
    args: [this.requireUdid('erase')]
  }));
};

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3N1YmNvbW1hbmRzL2VyYXNlLmpzIiwibmFtZXMiOlsiY29tbWFuZHMiLCJlcmFzZURldmljZSIsInRpbWVvdXQiLCJyZXRyaWVzIiwicGFyc2VJbnQiLCJleGVjIiwiYXJncyIsInJlcXVpcmVVZGlkIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLiIsInNvdXJjZXMiOlsibGliL3N1YmNvbW1hbmRzL2VyYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJldHJ5SW50ZXJ2YWwgfSBmcm9tICdhc3luY2JveCc7XG5cbmNvbnN0IGNvbW1hbmRzID0ge307XG5cbi8qKlxuICogUmVzZXQgdGhlIGNvbnRlbnQgYW5kIHNldHRpbmdzIG9mIHRoZSBwYXJ0aWN1bGFyIFNpbXVsYXRvci5cbiAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgU2ltdWxhdG9yIGlzIGluIF9zaHV0ZG93bl8gc3RhdGUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgWzEwMDAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQgZGV2aWNlIHJlc2V0IGlzIGNvbXBsZXRlZC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgYHVkaWRgIGluc3RhbmNlIHByb3BlcnR5IGlzIHVuc2V0XG4gKi9cbmNvbW1hbmRzLmVyYXNlRGV2aWNlID0gYXN5bmMgZnVuY3Rpb24gZXJhc2VEZXZpY2UgKHRpbWVvdXQgPSAxMDAwKSB7XG4gIC8vIHJldHJ5IGVyYXNlIHdpdGggYSBzbGVlcCBpbiBiZXR3ZWVuIGJlY2F1c2UgaXQncyBmbGFrZXlcbiAgY29uc3QgcmV0cmllcyA9IHBhcnNlSW50KHRpbWVvdXQgLyAyMDAsIDEwKTtcbiAgYXdhaXQgcmV0cnlJbnRlcnZhbChyZXRyaWVzLCAyMDAsXG4gICAgYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5leGVjKCdlcmFzZScsIHtcbiAgICAgIGFyZ3M6IFt0aGlzLnJlcXVpcmVVZGlkKCdlcmFzZScpXVxuICAgIH0pXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb21tYW5kcztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsUUFBUSxHQUFHLEVBQWpCOztBQVlBQSxRQUFRLENBQUNDLFdBQVQsR0FBdUIsZUFBZUEsV0FBZixDQUE0QkMsT0FBTyxHQUFHLElBQXRDLEVBQTRDO0VBRWpFLE1BQU1DLE9BQU8sR0FBR0MsUUFBUSxDQUFDRixPQUFPLEdBQUcsR0FBWCxFQUFnQixFQUFoQixDQUF4QjtFQUNBLE1BQU0sNkJBQWNDLE9BQWQsRUFBdUIsR0FBdkIsRUFDSixZQUFZLE1BQU0sS0FBS0UsSUFBTCxDQUFVLE9BQVYsRUFBbUI7SUFDbkNDLElBQUksRUFBRSxDQUFDLEtBQUtDLFdBQUwsQ0FBaUIsT0FBakIsQ0FBRDtFQUQ2QixDQUFuQixDQURkLENBQU47QUFLRCxDQVJEOztlQVVlUCxRIn0=
