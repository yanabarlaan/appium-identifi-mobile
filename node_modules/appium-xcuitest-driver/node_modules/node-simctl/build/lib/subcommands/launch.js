"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _asyncbox = require("asyncbox");

const commands = {};

commands.launchApp = async function launchApp(bundleId, tries = 5) {
  return await (0, _asyncbox.retryInterval)(tries, 1000, async () => {
    const {
      stdout
    } = await this.exec('launch', {
      args: [this.requireUdid('launch'), bundleId]
    });
    return _lodash.default.trim(stdout);
  });
};

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3N1YmNvbW1hbmRzL2xhdW5jaC5qcyIsIm5hbWVzIjpbImNvbW1hbmRzIiwibGF1bmNoQXBwIiwiYnVuZGxlSWQiLCJ0cmllcyIsInN0ZG91dCIsImV4ZWMiLCJhcmdzIiwicmVxdWlyZVVkaWQiLCJfIiwidHJpbSJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4iLCJzb3VyY2VzIjpbImxpYi9zdWJjb21tYW5kcy9sYXVuY2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHJldHJ5SW50ZXJ2YWwgfSBmcm9tICdhc3luY2JveCc7XG5cbmNvbnN0IGNvbW1hbmRzID0ge307XG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgcGFydGljdWxhciBhcHBsaWNhdGlvbiBwYWNrYWdlIG9uIFNpbXVsYXRvci5cbiAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgU2ltdWxhdG9yIGlzIGluIF9ib290ZWRfIHN0YXRlIGFuZFxuICogdGhlIGFwcGxpY2F0aW9uIHdpdGggZ2l2ZW4gYnVuZGxlIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbnN0YWxsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1bmRsZUlkIC0gQnVuZGxlIGlkZW50aWZpZXIgb2YgdGhlIGFwcGxpY2F0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpY2ggaXMgZ29pbmcgdG8gYmUgcmVtb3ZlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0cmllcyBbNV0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBiZWZvcmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd2luZyBhbiBleGNlcHRpb24uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBhY3R1YWwgY29tbWFuZCBvdXRwdXRcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgYHVkaWRgIGluc3RhbmNlIHByb3BlcnR5IGlzIHVuc2V0XG4gKi9cbmNvbW1hbmRzLmxhdW5jaEFwcCA9IGFzeW5jIGZ1bmN0aW9uIGxhdW5jaEFwcCAoYnVuZGxlSWQsIHRyaWVzID0gNSkge1xuICByZXR1cm4gYXdhaXQgcmV0cnlJbnRlcnZhbCh0cmllcywgMTAwMCwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHtzdGRvdXR9ID0gYXdhaXQgdGhpcy5leGVjKCdsYXVuY2gnLCB7XG4gICAgICBhcmdzOiBbdGhpcy5yZXF1aXJlVWRpZCgnbGF1bmNoJyksIGJ1bmRsZUlkXSxcbiAgICB9KTtcbiAgICByZXR1cm4gXy50cmltKHN0ZG91dCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29tbWFuZHM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUEsTUFBTUEsUUFBUSxHQUFHLEVBQWpCOztBQWdCQUEsUUFBUSxDQUFDQyxTQUFULEdBQXFCLGVBQWVBLFNBQWYsQ0FBMEJDLFFBQTFCLEVBQW9DQyxLQUFLLEdBQUcsQ0FBNUMsRUFBK0M7RUFDbEUsT0FBTyxNQUFNLDZCQUFjQSxLQUFkLEVBQXFCLElBQXJCLEVBQTJCLFlBQVk7SUFDbEQsTUFBTTtNQUFDQztJQUFELElBQVcsTUFBTSxLQUFLQyxJQUFMLENBQVUsUUFBVixFQUFvQjtNQUN6Q0MsSUFBSSxFQUFFLENBQUMsS0FBS0MsV0FBTCxDQUFpQixRQUFqQixDQUFELEVBQTZCTCxRQUE3QjtJQURtQyxDQUFwQixDQUF2QjtJQUdBLE9BQU9NLGdCQUFFQyxJQUFGLENBQU9MLE1BQVAsQ0FBUDtFQUNELENBTFksQ0FBYjtBQU1ELENBUEQ7O2VBU2VKLFEifQ==
