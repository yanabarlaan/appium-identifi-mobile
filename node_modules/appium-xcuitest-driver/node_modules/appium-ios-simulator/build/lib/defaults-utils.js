"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NSUserDefaults = void 0;
exports.generateDefaultsCommandArgs = generateDefaultsCommandArgs;
exports.toXmlArg = toXmlArg;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _xmldom = require("@xmldom/xmldom");

var _teen_process = require("teen_process");

var _bluebird = _interopRequireDefault(require("bluebird"));

var _logger = _interopRequireDefault(require("./logger"));

function toXmlArg(value, serialize = true) {
  let xmlDoc = null;

  if (_lodash.default.isPlainObject(value)) {
    xmlDoc = new _xmldom.DOMParser().parseFromString('<dict></dict>', 'text/xml');

    for (const [subKey, subValue] of _lodash.default.toPairs(value)) {
      const keyEl = xmlDoc.createElement('key');
      const keyTextEl = xmlDoc.createTextNode(subKey);
      keyEl.appendChild(keyTextEl);
      xmlDoc.documentElement.appendChild(keyEl);
      const subValueEl = xmlDoc.importNode(toXmlArg(subValue, false), true);
      xmlDoc.documentElement.appendChild(subValueEl);
    }
  } else if (_lodash.default.isArray(value)) {
    xmlDoc = new _xmldom.DOMParser().parseFromString('<array></array>', 'text/xml');

    for (const subValue of value) {
      const subValueEl = xmlDoc.importNode(toXmlArg(subValue, false), true);
      xmlDoc.documentElement.appendChild(subValueEl);
    }
  } else if (_lodash.default.isBoolean(value)) {
    xmlDoc = new _xmldom.DOMParser().parseFromString(value ? '<true/>' : '<false/>', 'text/xml');
  } else if (_lodash.default.isInteger(value)) {
    xmlDoc = new _xmldom.DOMParser().parseFromString(`<integer>${value}</integer>`, 'text/xml');
  } else if (_lodash.default.isNumber(value)) {
    xmlDoc = new _xmldom.DOMParser().parseFromString(`<real>${value}</real>`, 'text/xml');
  } else if (_lodash.default.isString(value)) {
    xmlDoc = new _xmldom.DOMParser().parseFromString(`<string></string>`, 'text/xml');
    const valueTextEl = xmlDoc.createTextNode(value);
    xmlDoc.documentElement.appendChild(valueTextEl);
  }

  if (!xmlDoc) {
    throw new TypeError(`The defaults value ${JSON.stringify(value)} cannot be written, ` + `because it is not known how to handle its type`);
  }

  return serialize ? new _xmldom.XMLSerializer().serializeToString(xmlDoc.documentElement) : xmlDoc.documentElement;
}

function generateDefaultsCommandArgs(valuesMap, replace = false) {
  const resultArgs = [];

  for (const [key, value] of _lodash.default.toPairs(valuesMap)) {
    try {
      if (!replace && _lodash.default.isPlainObject(value)) {
        const dictArgs = [key, '-dict-add'];

        for (const [subKey, subValue] of _lodash.default.toPairs(value)) {
          dictArgs.push(subKey, toXmlArg(subValue));
        }

        resultArgs.push(dictArgs);
      } else if (!replace && _lodash.default.isArray(value)) {
        const arrayArgs = [key, '-array-add'];

        for (const subValue of value) {
          arrayArgs.push(toXmlArg(subValue));
        }

        resultArgs.push(arrayArgs);
      } else {
        resultArgs.push([key, toXmlArg(value)]);
      }
    } catch (e) {
      if (e instanceof TypeError) {
        _logger.default.warn(e.message);
      } else {
        throw e;
      }
    }
  }

  return resultArgs;
}

class NSUserDefaults {
  constructor(plist) {
    this.plist = plist;
  }

  async asJson() {
    try {
      const {
        stdout
      } = await (0, _teen_process.exec)('plutil', ['-convert', 'json', '-o', '-', this.plist]);
      return JSON.parse(stdout);
    } catch (e) {
      throw new Error(`'${this.plist}' cannot be converted to JSON. Original error: ${e.stderr || e.message}`);
    }
  }

  async update(valuesMap) {
    if (!_lodash.default.isPlainObject(valuesMap)) {
      throw new TypeError(`plist values must be a map. '${valuesMap}' is given instead`);
    }

    if (_lodash.default.isEmpty(valuesMap)) {
      return;
    }

    const commandArgs = generateDefaultsCommandArgs(valuesMap);

    try {
      await _bluebird.default.all(commandArgs.map(args => (0, _teen_process.exec)('defaults', ['write', this.plist, ...args])));
    } catch (e) {
      throw new Error(`Could not write defaults into '${this.plist}'. Original error: ${e.stderr || e.message}`);
    }
  }

}

exports.NSUserDefaults = NSUserDefaults;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2RlZmF1bHRzLXV0aWxzLmpzIiwibmFtZXMiOlsidG9YbWxBcmciLCJ2YWx1ZSIsInNlcmlhbGl6ZSIsInhtbERvYyIsIl8iLCJpc1BsYWluT2JqZWN0IiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwic3ViS2V5Iiwic3ViVmFsdWUiLCJ0b1BhaXJzIiwia2V5RWwiLCJjcmVhdGVFbGVtZW50Iiwia2V5VGV4dEVsIiwiY3JlYXRlVGV4dE5vZGUiLCJhcHBlbmRDaGlsZCIsImRvY3VtZW50RWxlbWVudCIsInN1YlZhbHVlRWwiLCJpbXBvcnROb2RlIiwiaXNBcnJheSIsImlzQm9vbGVhbiIsImlzSW50ZWdlciIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJ2YWx1ZVRleHRFbCIsIlR5cGVFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJnZW5lcmF0ZURlZmF1bHRzQ29tbWFuZEFyZ3MiLCJ2YWx1ZXNNYXAiLCJyZXBsYWNlIiwicmVzdWx0QXJncyIsImtleSIsImRpY3RBcmdzIiwicHVzaCIsImFycmF5QXJncyIsImUiLCJsb2ciLCJ3YXJuIiwibWVzc2FnZSIsIk5TVXNlckRlZmF1bHRzIiwiY29uc3RydWN0b3IiLCJwbGlzdCIsImFzSnNvbiIsInN0ZG91dCIsImV4ZWMiLCJwYXJzZSIsIkVycm9yIiwic3RkZXJyIiwidXBkYXRlIiwiaXNFbXB0eSIsImNvbW1hbmRBcmdzIiwiQiIsImFsbCIsIm1hcCIsImFyZ3MiXSwic291cmNlUm9vdCI6Ii4uLy4uIiwic291cmNlcyI6WyJsaWIvZGVmYXVsdHMtdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IERPTVBhcnNlciwgWE1MU2VyaWFsaXplciB9IGZyb20gJ0B4bWxkb20veG1sZG9tJztcbmltcG9ydCB7IGV4ZWMgfSBmcm9tICd0ZWVuX3Byb2Nlc3MnO1xuaW1wb3J0IEIgZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZ2dlcic7XG5cbi8qKlxuICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gdmFsdWUgdG8gcGxpc3QtY29tcGF0aWJsZVxuICogWE1MIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyByZWFkeSBmb3IgZnVydGhlciB1c2FnZVxuICogd2l0aCBgZGVmYXVsdHNgIGNvbW1hbmQgbGluZSB0b29sIGFyZ3VtZW50c1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIHNlcmlhbGl6ZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2VyaWFsaXplIFt0cnVlXSBXaGV0aGVyIHRvIHNlcmlhbGl6ZSB0aGUgcmVzdWx0aW5nXG4gKiBYTUwgdG8gc3RyaW5nIG9yIHRvIHJldHVybiByYXcgSFRNTEVsZW1lbnQgaW5zdGFuY2VcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxzdHJpbmd9IEVpdGhlciBzdHJpbmcgb3IgcmF3IG5vZGUgcmVwcmVzZW50YXRpb24gb2ZcbiAqIHRoZSBnaXZlbiB2YWx1ZVxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBpdCBpcyBub3Qga25vd24gaG93IHRvIHNlcmlhbGl6ZSB0aGUgZ2l2ZW4gdmFsdWVcbiAqL1xuZnVuY3Rpb24gdG9YbWxBcmcgKHZhbHVlLCBzZXJpYWxpemUgPSB0cnVlKSB7XG4gIGxldCB4bWxEb2MgPSBudWxsO1xuXG4gIGlmIChfLmlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgeG1sRG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZygnPGRpY3Q+PC9kaWN0PicsICd0ZXh0L3htbCcpO1xuICAgIGZvciAoY29uc3QgW3N1YktleSwgc3ViVmFsdWVdIG9mIF8udG9QYWlycyh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IGtleUVsID0geG1sRG9jLmNyZWF0ZUVsZW1lbnQoJ2tleScpO1xuICAgICAgY29uc3Qga2V5VGV4dEVsID0geG1sRG9jLmNyZWF0ZVRleHROb2RlKHN1YktleSk7XG4gICAgICBrZXlFbC5hcHBlbmRDaGlsZChrZXlUZXh0RWwpO1xuICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChrZXlFbCk7XG4gICAgICBjb25zdCBzdWJWYWx1ZUVsID0geG1sRG9jLmltcG9ydE5vZGUodG9YbWxBcmcoc3ViVmFsdWUsIGZhbHNlKSwgdHJ1ZSk7XG4gICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHN1YlZhbHVlRWwpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgeG1sRG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZygnPGFycmF5PjwvYXJyYXk+JywgJ3RleHQveG1sJyk7XG4gICAgZm9yIChjb25zdCBzdWJWYWx1ZSBvZiB2YWx1ZSkge1xuICAgICAgY29uc3Qgc3ViVmFsdWVFbCA9IHhtbERvYy5pbXBvcnROb2RlKHRvWG1sQXJnKHN1YlZhbHVlLCBmYWxzZSksIHRydWUpO1xuICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzdWJWYWx1ZUVsKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXy5pc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgeG1sRG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh2YWx1ZSA/ICc8dHJ1ZS8+JyA6ICc8ZmFsc2UvPicsICd0ZXh0L3htbCcpO1xuICB9IGVsc2UgaWYgKF8uaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgIHhtbERvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoYDxpbnRlZ2VyPiR7dmFsdWV9PC9pbnRlZ2VyPmAsICd0ZXh0L3htbCcpO1xuICB9IGVsc2UgaWYgKF8uaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgeG1sRG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhgPHJlYWw+JHt2YWx1ZX08L3JlYWw+YCwgJ3RleHQveG1sJyk7XG4gIH0gZWxzZSBpZiAoXy5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB4bWxEb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGA8c3RyaW5nPjwvc3RyaW5nPmAsICd0ZXh0L3htbCcpO1xuICAgIGNvbnN0IHZhbHVlVGV4dEVsID0geG1sRG9jLmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHZhbHVlVGV4dEVsKTtcbiAgfVxuXG4gIGlmICgheG1sRG9jKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIGRlZmF1bHRzIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBjYW5ub3QgYmUgd3JpdHRlbiwgYCArXG4gICAgICBgYmVjYXVzZSBpdCBpcyBub3Qga25vd24gaG93IHRvIGhhbmRsZSBpdHMgdHlwZWApO1xuICB9XG5cbiAgcmV0dXJuIHNlcmlhbGl6ZVxuICAgID8gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MuZG9jdW1lbnRFbGVtZW50KVxuICAgIDogeG1sRG9jLmRvY3VtZW50RWxlbWVudDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgY29tbWFuZCBsaW5lIGFyZ3MgZm9yIHRoZSBgZGVmYXVsdHNgXG4gKiBjb21tYW5kIGxpbmUgdXRpbGl0eSBiYXNlZCBvbiB0aGUgZ2l2ZW4gcHJlZmVyZW5jZSB2YWx1ZXMgbWFwcGluZy5cbiAqIFNlZSBodHRwczovL3NoYWRvd2ZpbGUuaW5vZGUubGluay9ibG9nLzIwMTgvMDYvYWR2YW5jZWQtZGVmYXVsdHMxLXVzYWdlL1xuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzTWFwIFByZWZlcmVuY2VzIG1hcHBpbmdcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVwbGFjZSBbZmFsc2VdIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYXJndW1lbnRzIHRoYXQgcmVwbGFjZVxuICogY29tcGxleCB0eXBlZCB2YWx1ZXMgbGlrZSBhcnJheXMgb3IgZGljdGlvbmFyaWVzIGluIHRoZSBjdXJyZW50IHBsaXN0IG9yXG4gKiB1cGRhdGUgdGhlbSAodGhlIGRlZmF1bHQgc2V0dGluZ3MpXG4gKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8c3RyaW5nPj59IEVhY2ggaXRlbSBpbiB0aGUgYXJyYXlcbiAqIGlzIHRoZSBgZGVmYXVsdHMgd3JpdGUgPHBsaXN0PmAgY29tbWFuZCBzdWZmaXhcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVEZWZhdWx0c0NvbW1hbmRBcmdzICh2YWx1ZXNNYXAsIHJlcGxhY2UgPSBmYWxzZSkge1xuICBjb25zdCByZXN1bHRBcmdzID0gW107XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIF8udG9QYWlycyh2YWx1ZXNNYXApKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghcmVwbGFjZSAmJiBfLmlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGRpY3RBcmdzID0gW2tleSwgJy1kaWN0LWFkZCddO1xuICAgICAgICBmb3IgKGNvbnN0IFtzdWJLZXksIHN1YlZhbHVlXSBvZiBfLnRvUGFpcnModmFsdWUpKSB7XG4gICAgICAgICAgZGljdEFyZ3MucHVzaChzdWJLZXksIHRvWG1sQXJnKHN1YlZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0QXJncy5wdXNoKGRpY3RBcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXJlcGxhY2UgJiYgXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBhcnJheUFyZ3MgPSBba2V5LCAnLWFycmF5LWFkZCddO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YlZhbHVlIG9mIHZhbHVlKSB7XG4gICAgICAgICAgYXJyYXlBcmdzLnB1c2godG9YbWxBcmcoc3ViVmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRBcmdzLnB1c2goYXJyYXlBcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdEFyZ3MucHVzaChba2V5LCB0b1htbEFyZyh2YWx1ZSldKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICBsb2cud2FybihlLm1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdEFyZ3M7XG59XG5cblxuY2xhc3MgTlNVc2VyRGVmYXVsdHMge1xuICBjb25zdHJ1Y3RvciAocGxpc3QpIHtcbiAgICB0aGlzLnBsaXN0ID0gcGxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIGNvbnRlbnQgb2YgdGhlIGdpdmVuIHBsaXN0IGZpbGUgdXNpbmcgcGx1dGlsIGNvbW1hbmQgbGluZSB0b29sXG4gICAqIGFuZCBzZXJpYWxpemVzIGl0IHRvIGEgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2VyaWFsaXplZCBwbGlzdCBjb250ZW50XG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGVyZSB3YXMgYW4gZXJyb3IgZHVyaW5nIHNlcmlhbGl6YXRpb25cbiAgICovXG4gIGFzeW5jIGFzSnNvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtzdGRvdXR9ID0gYXdhaXQgZXhlYygncGx1dGlsJywgWyctY29udmVydCcsICdqc29uJywgJy1vJywgJy0nLCB0aGlzLnBsaXN0XSk7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShzdGRvdXQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dGhpcy5wbGlzdH0nIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gSlNPTi4gT3JpZ2luYWwgZXJyb3I6ICR7ZS5zdGRlcnIgfHwgZS5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjb250ZW50IG9mIHRoZSBnaXZlbiBwbGlzdCBmaWxlLlxuICAgKiBJZiB0aGUgcGxpc3QgZG9lcyBub3QgZXhpc3QgeWV0IHRoZW4gaXQgaXMgZ29pbmcgdG8gYmUgY3JlYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlc01hcCBNYXBwaW5nIG9mIHByZWZlcmVuY2UgdmFsdWVzIHRvIHVwZGF0ZS5cbiAgICogSWYgYW55IG9mIGl0ZW0gdmFsdWVzIGFyZSBvZiBkaWN0aW9uYXJ5IHR5cGUgdGhlbiBvbmx5IHRoZSBmaXJzdCBsZXZlbCBkaWN0aW9uYXJ5IGdldHNcbiAgICogdXBkYXRlZC4gRXZlcnl0aGluZyBiZWxvdyB0aGlzIGxldmVsIHdpbGwgYmUgcmVwbGFjZWQuIFRoaXMgaXMgdGhlIGtub3duIGxpbWl0YXRpb25cbiAgICogb2YgdGhlIGBkZWZhdWx0c2AgY29tbWFuZCBsaW5lIHRvb2wuIEEgd29ya2Fyb3VuZCBmb3IgaXQgd291bGQgYmUgdG8gcmVhZCB0aGUgY3VycmVudFxuICAgKiBwcmVmZXJlbmNlcyBtYXBwaW5nIGZpcnN0IGFuZCBtZXJnZSBpdCB3aXRoIHRoaXMgdmFsdWUuXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgdXBkYXRpbmcgdGhlIHBsaXN0XG4gICAqL1xuICBhc3luYyB1cGRhdGUgKHZhbHVlc01hcCkge1xuICAgIGlmICghXy5pc1BsYWluT2JqZWN0KHZhbHVlc01hcCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYHBsaXN0IHZhbHVlcyBtdXN0IGJlIGEgbWFwLiAnJHt2YWx1ZXNNYXB9JyBpcyBnaXZlbiBpbnN0ZWFkYCk7XG4gICAgfVxuICAgIGlmIChfLmlzRW1wdHkodmFsdWVzTWFwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gZ2VuZXJhdGVEZWZhdWx0c0NvbW1hbmRBcmdzKHZhbHVlc01hcCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IEIuYWxsKGNvbW1hbmRBcmdzLm1hcCgoYXJncykgPT4gZXhlYygnZGVmYXVsdHMnLCBbJ3dyaXRlJywgdGhpcy5wbGlzdCwgLi4uYXJnc10pKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3Qgd3JpdGUgZGVmYXVsdHMgaW50byAnJHt0aGlzLnBsaXN0fScuIE9yaWdpbmFsIGVycm9yOiAke2Uuc3RkZXJyIHx8IGUubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cbn1cblxuXG5leHBvcnQge1xuICBOU1VzZXJEZWZhdWx0cyxcbiAgdG9YbWxBcmcsIGdlbmVyYXRlRGVmYXVsdHNDb21tYW5kQXJncyxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFjQSxTQUFTQSxRQUFULENBQW1CQyxLQUFuQixFQUEwQkMsU0FBUyxHQUFHLElBQXRDLEVBQTRDO0VBQzFDLElBQUlDLE1BQU0sR0FBRyxJQUFiOztFQUVBLElBQUlDLGVBQUEsQ0FBRUMsYUFBRixDQUFnQkosS0FBaEIsQ0FBSixFQUE0QjtJQUMxQkUsTUFBTSxHQUFHLElBQUlHLGlCQUFKLEdBQWdCQyxlQUFoQixDQUFnQyxlQUFoQyxFQUFpRCxVQUFqRCxDQUFUOztJQUNBLEtBQUssTUFBTSxDQUFDQyxNQUFELEVBQVNDLFFBQVQsQ0FBWCxJQUFpQ0wsZUFBQSxDQUFFTSxPQUFGLENBQVVULEtBQVYsQ0FBakMsRUFBbUQ7TUFDakQsTUFBTVUsS0FBSyxHQUFHUixNQUFNLENBQUNTLGFBQVAsQ0FBcUIsS0FBckIsQ0FBZDtNQUNBLE1BQU1DLFNBQVMsR0FBR1YsTUFBTSxDQUFDVyxjQUFQLENBQXNCTixNQUF0QixDQUFsQjtNQUNBRyxLQUFLLENBQUNJLFdBQU4sQ0FBa0JGLFNBQWxCO01BQ0FWLE1BQU0sQ0FBQ2EsZUFBUCxDQUF1QkQsV0FBdkIsQ0FBbUNKLEtBQW5DO01BQ0EsTUFBTU0sVUFBVSxHQUFHZCxNQUFNLENBQUNlLFVBQVAsQ0FBa0JsQixRQUFRLENBQUNTLFFBQUQsRUFBVyxLQUFYLENBQTFCLEVBQTZDLElBQTdDLENBQW5CO01BQ0FOLE1BQU0sQ0FBQ2EsZUFBUCxDQUF1QkQsV0FBdkIsQ0FBbUNFLFVBQW5DO0lBQ0Q7RUFDRixDQVZELE1BVU8sSUFBSWIsZUFBQSxDQUFFZSxPQUFGLENBQVVsQixLQUFWLENBQUosRUFBc0I7SUFDM0JFLE1BQU0sR0FBRyxJQUFJRyxpQkFBSixHQUFnQkMsZUFBaEIsQ0FBZ0MsaUJBQWhDLEVBQW1ELFVBQW5ELENBQVQ7O0lBQ0EsS0FBSyxNQUFNRSxRQUFYLElBQXVCUixLQUF2QixFQUE4QjtNQUM1QixNQUFNZ0IsVUFBVSxHQUFHZCxNQUFNLENBQUNlLFVBQVAsQ0FBa0JsQixRQUFRLENBQUNTLFFBQUQsRUFBVyxLQUFYLENBQTFCLEVBQTZDLElBQTdDLENBQW5CO01BQ0FOLE1BQU0sQ0FBQ2EsZUFBUCxDQUF1QkQsV0FBdkIsQ0FBbUNFLFVBQW5DO0lBQ0Q7RUFDRixDQU5NLE1BTUEsSUFBSWIsZUFBQSxDQUFFZ0IsU0FBRixDQUFZbkIsS0FBWixDQUFKLEVBQXdCO0lBQzdCRSxNQUFNLEdBQUcsSUFBSUcsaUJBQUosR0FBZ0JDLGVBQWhCLENBQWdDTixLQUFLLEdBQUcsU0FBSCxHQUFlLFVBQXBELEVBQWdFLFVBQWhFLENBQVQ7RUFDRCxDQUZNLE1BRUEsSUFBSUcsZUFBQSxDQUFFaUIsU0FBRixDQUFZcEIsS0FBWixDQUFKLEVBQXdCO0lBQzdCRSxNQUFNLEdBQUcsSUFBSUcsaUJBQUosR0FBZ0JDLGVBQWhCLENBQWlDLFlBQVdOLEtBQU0sWUFBbEQsRUFBK0QsVUFBL0QsQ0FBVDtFQUNELENBRk0sTUFFQSxJQUFJRyxlQUFBLENBQUVrQixRQUFGLENBQVdyQixLQUFYLENBQUosRUFBdUI7SUFDNUJFLE1BQU0sR0FBRyxJQUFJRyxpQkFBSixHQUFnQkMsZUFBaEIsQ0FBaUMsU0FBUU4sS0FBTSxTQUEvQyxFQUF5RCxVQUF6RCxDQUFUO0VBQ0QsQ0FGTSxNQUVBLElBQUlHLGVBQUEsQ0FBRW1CLFFBQUYsQ0FBV3RCLEtBQVgsQ0FBSixFQUF1QjtJQUM1QkUsTUFBTSxHQUFHLElBQUlHLGlCQUFKLEdBQWdCQyxlQUFoQixDQUFpQyxtQkFBakMsRUFBcUQsVUFBckQsQ0FBVDtJQUNBLE1BQU1pQixXQUFXLEdBQUdyQixNQUFNLENBQUNXLGNBQVAsQ0FBc0JiLEtBQXRCLENBQXBCO0lBQ0FFLE1BQU0sQ0FBQ2EsZUFBUCxDQUF1QkQsV0FBdkIsQ0FBbUNTLFdBQW5DO0VBQ0Q7O0VBRUQsSUFBSSxDQUFDckIsTUFBTCxFQUFhO0lBQ1gsTUFBTSxJQUFJc0IsU0FBSixDQUFlLHNCQUFxQkMsSUFBSSxDQUFDQyxTQUFMLENBQWUxQixLQUFmLENBQXNCLHNCQUE1QyxHQUNqQixnREFERyxDQUFOO0VBRUQ7O0VBRUQsT0FBT0MsU0FBUyxHQUNaLElBQUkwQixxQkFBSixHQUFvQkMsaUJBQXBCLENBQXNDMUIsTUFBTSxDQUFDYSxlQUE3QyxDQURZLEdBRVpiLE1BQU0sQ0FBQ2EsZUFGWDtBQUdEOztBQWVELFNBQVNjLDJCQUFULENBQXNDQyxTQUF0QyxFQUFpREMsT0FBTyxHQUFHLEtBQTNELEVBQWtFO0VBQ2hFLE1BQU1DLFVBQVUsR0FBRyxFQUFuQjs7RUFDQSxLQUFLLE1BQU0sQ0FBQ0MsR0FBRCxFQUFNakMsS0FBTixDQUFYLElBQTJCRyxlQUFBLENBQUVNLE9BQUYsQ0FBVXFCLFNBQVYsQ0FBM0IsRUFBaUQ7SUFDL0MsSUFBSTtNQUNGLElBQUksQ0FBQ0MsT0FBRCxJQUFZNUIsZUFBQSxDQUFFQyxhQUFGLENBQWdCSixLQUFoQixDQUFoQixFQUF3QztRQUN0QyxNQUFNa0MsUUFBUSxHQUFHLENBQUNELEdBQUQsRUFBTSxXQUFOLENBQWpCOztRQUNBLEtBQUssTUFBTSxDQUFDMUIsTUFBRCxFQUFTQyxRQUFULENBQVgsSUFBaUNMLGVBQUEsQ0FBRU0sT0FBRixDQUFVVCxLQUFWLENBQWpDLEVBQW1EO1VBQ2pEa0MsUUFBUSxDQUFDQyxJQUFULENBQWM1QixNQUFkLEVBQXNCUixRQUFRLENBQUNTLFFBQUQsQ0FBOUI7UUFDRDs7UUFDRHdCLFVBQVUsQ0FBQ0csSUFBWCxDQUFnQkQsUUFBaEI7TUFDRCxDQU5ELE1BTU8sSUFBSSxDQUFDSCxPQUFELElBQVk1QixlQUFBLENBQUVlLE9BQUYsQ0FBVWxCLEtBQVYsQ0FBaEIsRUFBa0M7UUFDdkMsTUFBTW9DLFNBQVMsR0FBRyxDQUFDSCxHQUFELEVBQU0sWUFBTixDQUFsQjs7UUFDQSxLQUFLLE1BQU16QixRQUFYLElBQXVCUixLQUF2QixFQUE4QjtVQUM1Qm9DLFNBQVMsQ0FBQ0QsSUFBVixDQUFlcEMsUUFBUSxDQUFDUyxRQUFELENBQXZCO1FBQ0Q7O1FBQ0R3QixVQUFVLENBQUNHLElBQVgsQ0FBZ0JDLFNBQWhCO01BQ0QsQ0FOTSxNQU1BO1FBQ0xKLFVBQVUsQ0FBQ0csSUFBWCxDQUFnQixDQUFDRixHQUFELEVBQU1sQyxRQUFRLENBQUNDLEtBQUQsQ0FBZCxDQUFoQjtNQUNEO0lBQ0YsQ0FoQkQsQ0FnQkUsT0FBT3FDLENBQVAsRUFBVTtNQUNWLElBQUlBLENBQUMsWUFBWWIsU0FBakIsRUFBNEI7UUFDMUJjLGVBQUEsQ0FBSUMsSUFBSixDQUFTRixDQUFDLENBQUNHLE9BQVg7TUFDRCxDQUZELE1BRU87UUFDTCxNQUFNSCxDQUFOO01BQ0Q7SUFDRjtFQUNGOztFQUNELE9BQU9MLFVBQVA7QUFDRDs7QUFHRCxNQUFNUyxjQUFOLENBQXFCO0VBQ25CQyxXQUFXLENBQUVDLEtBQUYsRUFBUztJQUNsQixLQUFLQSxLQUFMLEdBQWFBLEtBQWI7RUFDRDs7RUFTVyxNQUFOQyxNQUFNLEdBQUk7SUFDZCxJQUFJO01BQ0YsTUFBTTtRQUFDQztNQUFELElBQVcsTUFBTSxJQUFBQyxrQkFBQSxFQUFLLFFBQUwsRUFBZSxDQUFDLFVBQUQsRUFBYSxNQUFiLEVBQXFCLElBQXJCLEVBQTJCLEdBQTNCLEVBQWdDLEtBQUtILEtBQXJDLENBQWYsQ0FBdkI7TUFDQSxPQUFPbEIsSUFBSSxDQUFDc0IsS0FBTCxDQUFXRixNQUFYLENBQVA7SUFDRCxDQUhELENBR0UsT0FBT1IsQ0FBUCxFQUFVO01BQ1YsTUFBTSxJQUFJVyxLQUFKLENBQVcsSUFBRyxLQUFLTCxLQUFNLGtEQUFpRE4sQ0FBQyxDQUFDWSxNQUFGLElBQVlaLENBQUMsQ0FBQ0csT0FBUSxFQUFoRyxDQUFOO0lBQ0Q7RUFDRjs7RUFhVyxNQUFOVSxNQUFNLENBQUVwQixTQUFGLEVBQWE7SUFDdkIsSUFBSSxDQUFDM0IsZUFBQSxDQUFFQyxhQUFGLENBQWdCMEIsU0FBaEIsQ0FBTCxFQUFpQztNQUMvQixNQUFNLElBQUlOLFNBQUosQ0FBZSxnQ0FBK0JNLFNBQVUsb0JBQXhELENBQU47SUFDRDs7SUFDRCxJQUFJM0IsZUFBQSxDQUFFZ0QsT0FBRixDQUFVckIsU0FBVixDQUFKLEVBQTBCO01BQ3hCO0lBQ0Q7O0lBRUQsTUFBTXNCLFdBQVcsR0FBR3ZCLDJCQUEyQixDQUFDQyxTQUFELENBQS9DOztJQUNBLElBQUk7TUFDRixNQUFNdUIsaUJBQUEsQ0FBRUMsR0FBRixDQUFNRixXQUFXLENBQUNHLEdBQVosQ0FBaUJDLElBQUQsSUFBVSxJQUFBVixrQkFBQSxFQUFLLFVBQUwsRUFBaUIsQ0FBQyxPQUFELEVBQVUsS0FBS0gsS0FBZixFQUFzQixHQUFHYSxJQUF6QixDQUFqQixDQUExQixDQUFOLENBQU47SUFDRCxDQUZELENBRUUsT0FBT25CLENBQVAsRUFBVTtNQUNWLE1BQU0sSUFBSVcsS0FBSixDQUFXLGtDQUFpQyxLQUFLTCxLQUFNLHNCQUFxQk4sQ0FBQyxDQUFDWSxNQUFGLElBQVlaLENBQUMsQ0FBQ0csT0FBUSxFQUFsRyxDQUFOO0lBQ0Q7RUFDRjs7QUE5Q2tCIn0=
