"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.InstallationProxyService = exports.INSTALLATION_PROXY_SERVICE_NAME = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _baseService = require("../base-service");

const INSTALLATION_PROXY_SERVICE_NAME = 'com.apple.mobile.installation_proxy';
exports.INSTALLATION_PROXY_SERVICE_NAME = INSTALLATION_PROXY_SERVICE_NAME;

class InstallationProxyService extends _baseService.BaseServicePlist {
  async installApplication(path, clientOptions = {}, timeout = 60000) {
    const request = {
      Command: 'Install',
      PackagePath: path,
      ClientOptions: clientOptions
    };

    this._plistService.sendPlist(request);

    return await this._waitMessageCompletion(timeout);
  }

  async upgradeApplication(path, clientOptions = {}, timeout = 60000) {
    const request = {
      Command: 'Upgrade',
      PackagePath: path,
      ClientOptions: clientOptions
    };

    this._plistService.sendPlist(request);

    return await this._waitMessageCompletion(timeout);
  }

  async listApplications(opts = {}) {
    const request = {
      Command: 'Browse',
      ClientOptions: {}
    };

    if (opts.applicationType) {
      request.ClientOptions.ApplicationType = opts.applicationType;
    }

    if (opts.returnAttributes) {
      request.ClientOptions.ReturnAttributes = opts.returnAttributes;
    }

    this._plistService.sendPlist(request);

    const messages = await this._waitMessageCompletion();
    return messages.reduce(function (acc, message) {
      if (!message.CurrentList) {
        return acc;
      }

      message.CurrentList.forEach(function (app) {
        acc[app.CFBundleIdentifier] = app;
      });
      return acc;
    }, {});
  }

  async lookupApplications(opts = {}) {
    const request = {
      Command: 'Lookup',
      ClientOptions: {}
    };

    if (opts.bundleIds) {
      request.ClientOptions.BundleIDs = _lodash.default.isString(opts.bundleIds) ? [opts.bundleIds] : opts.bundleIds;
    }

    if (opts.applicationType) {
      request.ClientOptions.ApplicationType = opts.applicationType;
    }

    if (opts.returnAttributes) {
      request.ClientOptions.ReturnAttributes = opts.returnAttributes;
    }

    this._plistService.sendPlist(request);

    const messages = await this._waitMessageCompletion();

    for (const message of messages) {
      if (message.LookupResult) {
        return message.LookupResult;
      }
    }

    throw new Error(`Could not find LookupResult in the response: Response: ${JSON.stringify(messages)}`);
  }

  async uninstallApplication(bundleId, timeout = 20000) {
    const request = {
      Command: 'Uninstall',
      ApplicationIdentifier: bundleId
    };

    this._plistService.sendPlist(request);

    return await this._waitMessageCompletion(timeout);
  }

  async _waitMessageCompletion(timeout) {
    let messages = [];

    for (let i = 0; i < Number.MAX_SAFE_INTEGER; i++) {
      const data = await this._plistService.receivePlist(timeout);
      messages.push(data);

      if (this._isFinished(data)) {
        return messages;
      }
    }
  }

  _isFinished(response) {
    if (response.Error) {
      throw new Error(`Unexpected data: ${JSON.stringify(response)}`);
    }

    if (!response.Status) {
      return false;
    }

    return response.Status === 'Complete';
  }

}

exports.InstallationProxyService = InstallationProxyService;
var _default = InstallationProxyService;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2luc3RhbGxhdGlvbi1wcm94eS9pbmRleC5qcyIsIm5hbWVzIjpbIklOU1RBTExBVElPTl9QUk9YWV9TRVJWSUNFX05BTUUiLCJJbnN0YWxsYXRpb25Qcm94eVNlcnZpY2UiLCJCYXNlU2VydmljZVBsaXN0IiwiaW5zdGFsbEFwcGxpY2F0aW9uIiwicGF0aCIsImNsaWVudE9wdGlvbnMiLCJ0aW1lb3V0IiwicmVxdWVzdCIsIkNvbW1hbmQiLCJQYWNrYWdlUGF0aCIsIkNsaWVudE9wdGlvbnMiLCJfcGxpc3RTZXJ2aWNlIiwic2VuZFBsaXN0IiwiX3dhaXRNZXNzYWdlQ29tcGxldGlvbiIsInVwZ3JhZGVBcHBsaWNhdGlvbiIsImxpc3RBcHBsaWNhdGlvbnMiLCJvcHRzIiwiYXBwbGljYXRpb25UeXBlIiwiQXBwbGljYXRpb25UeXBlIiwicmV0dXJuQXR0cmlidXRlcyIsIlJldHVybkF0dHJpYnV0ZXMiLCJtZXNzYWdlcyIsInJlZHVjZSIsImFjYyIsIm1lc3NhZ2UiLCJDdXJyZW50TGlzdCIsImZvckVhY2giLCJhcHAiLCJDRkJ1bmRsZUlkZW50aWZpZXIiLCJsb29rdXBBcHBsaWNhdGlvbnMiLCJidW5kbGVJZHMiLCJCdW5kbGVJRHMiLCJfIiwiaXNTdHJpbmciLCJMb29rdXBSZXN1bHQiLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1bmluc3RhbGxBcHBsaWNhdGlvbiIsImJ1bmRsZUlkIiwiQXBwbGljYXRpb25JZGVudGlmaWVyIiwiaSIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJkYXRhIiwicmVjZWl2ZVBsaXN0IiwicHVzaCIsIl9pc0ZpbmlzaGVkIiwicmVzcG9uc2UiLCJTdGF0dXMiXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uIiwic291cmNlcyI6WyJsaWIvaW5zdGFsbGF0aW9uLXByb3h5L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBCYXNlU2VydmljZVBsaXN0IH0gZnJvbSAnLi4vYmFzZS1zZXJ2aWNlJztcblxuLypcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90bW90aHkyMDAxMy9saWJpbW9iaWxlZGV2aWNlLW1hc3Rlci9ibG9iL2VjZDg5YjQyMDIxY2Y2ZjdlZmU5YWQyNzFiM2JkZGM3ZGQ0YjI4MWUvc3JjL2luc3RhbGxhdGlvbl9wcm94eS5jXG4gKi9cblxuY29uc3QgSU5TVEFMTEFUSU9OX1BST1hZX1NFUlZJQ0VfTkFNRSA9ICdjb20uYXBwbGUubW9iaWxlLmluc3RhbGxhdGlvbl9wcm94eSc7XG5cbmNsYXNzIEluc3RhbGxhdGlvblByb3h5U2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNlUGxpc3Qge1xuICAvKipcbiAgICogSW5zdGFsbCB0aGUgYXBwbGljYXRpb24gb24gdGhlIHJlbGF0aXZlIHBhdGggb24gdGhlIHBob25lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHdoZXJlIHRoZSAuYXBwIGFuZCAuaXBhIGlzIGxvY2F0ZWQgYXQgb24gdGhlIHBob25lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnRPcHRpb25zIFRoZSBleHRyYSBvcHRpb25zIHRoYXQgd2FudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBpbnN0YWxsZFxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCBbNjAwMDBdIFRoZSB0aW1lb3V0IGJldHdlZW4gbWVzc2FnZXMgcmVjZWl2ZWQgZnJvbSB0aGUgcGhvbmUgYXMgc3RhdHVzIHVwZGF0ZXNcbiAgICovXG4gIGFzeW5jIGluc3RhbGxBcHBsaWNhdGlvbiAocGF0aCwgY2xpZW50T3B0aW9ucyA9IHt9LCB0aW1lb3V0ID0gNjAwMDApIHtcbiAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgQ29tbWFuZDogJ0luc3RhbGwnLFxuICAgICAgUGFja2FnZVBhdGg6IHBhdGgsXG4gICAgICBDbGllbnRPcHRpb25zOiBjbGllbnRPcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMuX3BsaXN0U2VydmljZS5zZW5kUGxpc3QocmVxdWVzdCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3dhaXRNZXNzYWdlQ29tcGxldGlvbih0aW1lb3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGdyYWRlcyB0aGUgZ2l2ZW4gYXBwbGljYXRpb24gZnJvbSB0aGUgcmVsYXRpdmUgcGF0aCBvbiB0aGUgcGhvbmUuXG4gICAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgYSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBzYW1lIGFwcCBpcyBhbHJlYWR5IGluc3RhbGxlZCBpbiBvcmRlclxuICAgKiB0byBjYWxsIHRoaXMgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB3aGVyZSB0aGUgLmFwcCBhbmQgLmlwYSBpcyBsb2NhdGVkIGF0IG9uIHRoZSBwaG9uZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2xpZW50T3B0aW9ucyBUaGUgZXh0cmEgb3B0aW9ucyB0aGF0IHdhbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgaW5zdGFsbGRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgWzYwMDAwXSBUaGUgdGltZW91dCBiZXR3ZWVuIG1lc3NhZ2VzIHJlY2VpdmVkIGZyb20gdGhlIHBob25lIGFzIHN0YXR1cyB1cGRhdGVzXG4gICAqL1xuICBhc3luYyB1cGdyYWRlQXBwbGljYXRpb24gKHBhdGgsIGNsaWVudE9wdGlvbnMgPSB7fSwgdGltZW91dCA9IDYwMDAwKSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIENvbW1hbmQ6ICdVcGdyYWRlJyxcbiAgICAgIFBhY2thZ2VQYXRoOiBwYXRoLFxuICAgICAgQ2xpZW50T3B0aW9uczogY2xpZW50T3B0aW9uc1xuICAgIH07XG5cbiAgICB0aGlzLl9wbGlzdFNlcnZpY2Uuc2VuZFBsaXN0KHJlcXVlc3QpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl93YWl0TWVzc2FnZUNvbXBsZXRpb24odGltZW91dCk7XG4gIH1cblxuICAvKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpc3RBcHBsaWNhdGlvbk9wdGlvbnNcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYXBwbGljYXRpb25UeXBlIG9mIHRoZSB3aGljaCBncm91cCB5b3Ugd2FudCB0byBsaXN0LiBUaGVzZSBjYW4gYmUgVXNlciwgU3lzdGVtIG9yIGxlYXZlIGl0IGVtcHR5IGZvciBib3RoXG4gKiBAcHJvcGVydHkge0FycmF5fSByZXR1cm5BdHRyaWJ1dGVzIHRoZSBmaWVsZHMgd2hpY2ggc2hvdWxkIGJlIGZpbHRlcmVkIGFuZCByZXR1cm5lZCB0byB0aGUgY2xpZW50LiBMZWF2ZSB0aGlzIHBhcmFtZXRlciBlbXB0eSBpZiB5b3UgZG9uJ3Qgd2FudCB0byBmaWx0ZXJcbiAqL1xuXG4gIC8qKlxuICAgKiBMaXN0cyBhcHBsaWNhdGlvbnMgYWNjb3JkaW5nIHRvIHRoZSBvcHRzIGFuZCByZXR1cm5zIHRoZW0gYXMgYSBtYXBcbiAgICogQHBhcmFtIHtMaXN0QXBwbGljYXRpb25PcHRpb25zfSBvcHRzIHRoZSBsaXN0aW5nIG9wdGlvbnMgdGhhdCB3YW50cyB0byBiZSBwYXNzZWRcbiAgICogQHJldHVybnMgQSBtYXAgb2YgdGhlIGFwcGxpY2F0aW9ucyB3aGljaCB0aGUga2V5IGlzIHRoZSBidW5kbGVJZFxuICAgKi9cbiAgYXN5bmMgbGlzdEFwcGxpY2F0aW9ucyAob3B0cyA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIENvbW1hbmQ6ICdCcm93c2UnLFxuICAgICAgQ2xpZW50T3B0aW9uczoge31cbiAgICB9O1xuXG4gICAgaWYgKG9wdHMuYXBwbGljYXRpb25UeXBlKSB7XG4gICAgICByZXF1ZXN0LkNsaWVudE9wdGlvbnMuQXBwbGljYXRpb25UeXBlID0gb3B0cy5hcHBsaWNhdGlvblR5cGU7XG4gICAgfVxuICAgIGlmIChvcHRzLnJldHVybkF0dHJpYnV0ZXMpIHtcbiAgICAgIHJlcXVlc3QuQ2xpZW50T3B0aW9ucy5SZXR1cm5BdHRyaWJ1dGVzID0gb3B0cy5yZXR1cm5BdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIHRoaXMuX3BsaXN0U2VydmljZS5zZW5kUGxpc3QocmVxdWVzdCk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCB0aGlzLl93YWl0TWVzc2FnZUNvbXBsZXRpb24oKTtcbiAgICByZXR1cm4gbWVzc2FnZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG1lc3NhZ2UpIHtcbiAgICAgIGlmICghbWVzc2FnZS5DdXJyZW50TGlzdCkge1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfVxuICAgICAgbWVzc2FnZS5DdXJyZW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChhcHApIHtcbiAgICAgICAgYWNjW2FwcC5DRkJ1bmRsZUlkZW50aWZpZXJdID0gYXBwO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIC8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTG9va3VwQXBwbGljYXRpb25PcHRpb25zXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFwcGxpY2F0aW9uVHlwZSBvZiB0aGUgd2hpY2ggZ3JvdXAgeW91IHdhbnQgdG8gbGlzdC4gVGhlc2UgY2FuIGJlIFVzZXIsIFN5c3RlbSBvciBsZWF2ZSBpdCBlbXB0eSBmb3IgYm90aFxuICogQHByb3BlcnR5IHtBcnJheX0gcmV0dXJuQXR0cmlidXRlcyB0aGUgZmllbGRzIHdoaWNoIHNob3VsZCBiZSBmaWx0ZXJlZCBhbmQgcmV0dXJuZWQgdG8gdGhlIGNsaWVudC4gTGVhdmUgdGhpcyBwYXJhbWV0ZXIgZW1wdHkgaWYgeW91IGRvbid0IHdhbnQgdG8gZmlsdGVyXG4gKiBAcHJvcGVydHkge3N0cmluZ3xBcnJheX0gYnVuZGxlSWRzIEJ1bmRsZSBJZHMgb2YgdGhlIGFwcHMgdGhhdCBzaG91bGQgYmUgc2VhcmNoZWRcbiAqL1xuXG4gIC8qKlxuICAgKiBMaXN0cyBhcHBsaWNhdGlvbnMgYWNjb3JkaW5nIHRvIHRoZSBvcHRzIGFuZCByZXR1cm5zIHRoZW0gYXMgYSBtYXBcbiAgICogQHBhcmFtIHtMb29rdXBBcHBsaWNhdGlvbk9wdGlvbnN9IG9wdHMgdGhlIGxvb2t1cCBvcHRpb25zIHRoYXQgd2FudHMgdG8gYmUgcGFzc2VkXG4gICAqIEByZXR1cm5zIEEgbWFwIG9mIHRoZSBhcHBsaWNhdGlvbnMgd2hpY2ggdGhlIGtleSBpcyB0aGUgYnVuZGxlSWRcbiAgICovXG4gIGFzeW5jIGxvb2t1cEFwcGxpY2F0aW9ucyAob3B0cyA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIENvbW1hbmQ6ICdMb29rdXAnLFxuICAgICAgQ2xpZW50T3B0aW9uczoge31cbiAgICB9O1xuICAgIGlmIChvcHRzLmJ1bmRsZUlkcykge1xuICAgICAgcmVxdWVzdC5DbGllbnRPcHRpb25zLkJ1bmRsZUlEcyA9IF8uaXNTdHJpbmcob3B0cy5idW5kbGVJZHMpID8gW29wdHMuYnVuZGxlSWRzXSA6IG9wdHMuYnVuZGxlSWRzO1xuICAgIH1cbiAgICBpZiAob3B0cy5hcHBsaWNhdGlvblR5cGUpIHtcbiAgICAgIHJlcXVlc3QuQ2xpZW50T3B0aW9ucy5BcHBsaWNhdGlvblR5cGUgPSBvcHRzLmFwcGxpY2F0aW9uVHlwZTtcbiAgICB9XG4gICAgaWYgKG9wdHMucmV0dXJuQXR0cmlidXRlcykge1xuICAgICAgcmVxdWVzdC5DbGllbnRPcHRpb25zLlJldHVybkF0dHJpYnV0ZXMgPSBvcHRzLnJldHVybkF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgdGhpcy5fcGxpc3RTZXJ2aWNlLnNlbmRQbGlzdChyZXF1ZXN0KTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IHRoaXMuX3dhaXRNZXNzYWdlQ29tcGxldGlvbigpO1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgaWYgKG1lc3NhZ2UuTG9va3VwUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLkxvb2t1cFJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBMb29rdXBSZXN1bHQgaW4gdGhlIHJlc3BvbnNlOiBSZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlcyl9YCk7XG4gIH1cblxuICAvKipcbiAgICogVW5pbnN0YWxscyBhbiBhcHBsaWNhdGlvbiBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGJ1bmRsZUlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBidW5kbGVJZCBvZiB0aGUgYXBwIHRoYXQgbmVlZHMgdG8gYmUgcGFzc2VkIGZvciB1bmluc3RhbGxhdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCBUaGUgdGltZW91dCBiZXR3ZWVuIG1lc3NhZ2VzIHJlY2VpdmVkIGZyb20gdGhlIHBob25lIGFzIHN0YXR1cyB1cGRhdGVzXG4gICAqL1xuICBhc3luYyB1bmluc3RhbGxBcHBsaWNhdGlvbiAoYnVuZGxlSWQsIHRpbWVvdXQgPSAyMDAwMCkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICBDb21tYW5kOiAnVW5pbnN0YWxsJyxcbiAgICAgIEFwcGxpY2F0aW9uSWRlbnRpZmllcjogYnVuZGxlSWRcbiAgICB9O1xuXG4gICAgdGhpcy5fcGxpc3RTZXJ2aWNlLnNlbmRQbGlzdChyZXF1ZXN0KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fd2FpdE1lc3NhZ2VDb21wbGV0aW9uKHRpbWVvdXQpO1xuICB9XG5cbiAgYXN5bmMgX3dhaXRNZXNzYWdlQ29tcGxldGlvbiAodGltZW91dCkge1xuICAgIGxldCBtZXNzYWdlcyA9IFtdO1xuICAgIC8vIEp1c3QgYWRkZWQgZm9yIHNhZmV0eS4gVGhpcyBzaG91bGRuJ3QgaGFwcGVuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsgaSsrKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5fcGxpc3RTZXJ2aWNlLnJlY2VpdmVQbGlzdCh0aW1lb3V0KTtcbiAgICAgIG1lc3NhZ2VzLnB1c2goZGF0YSk7XG4gICAgICBpZiAodGhpcy5faXNGaW5pc2hlZChkYXRhKSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2lzRmluaXNoZWQgKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLkVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZGF0YTogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5TdGF0dXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLlN0YXR1cyA9PT0gJ0NvbXBsZXRlJztcbiAgfVxufVxuXG5leHBvcnQgeyBJbnN0YWxsYXRpb25Qcm94eVNlcnZpY2UsIElOU1RBTExBVElPTl9QUk9YWV9TRVJWSUNFX05BTUUgfTtcbmV4cG9ydCBkZWZhdWx0IEluc3RhbGxhdGlvblByb3h5U2VydmljZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFNQSxNQUFNQSwrQkFBK0IsR0FBRyxxQ0FBeEM7OztBQUVBLE1BQU1DLHdCQUFOLFNBQXVDQyw2QkFBdkMsQ0FBd0Q7RUFPOUIsTUFBbEJDLGtCQUFrQixDQUFFQyxJQUFGLEVBQVFDLGFBQWEsR0FBRyxFQUF4QixFQUE0QkMsT0FBTyxHQUFHLEtBQXRDLEVBQTZDO0lBQ25FLE1BQU1DLE9BQU8sR0FBRztNQUNkQyxPQUFPLEVBQUUsU0FESztNQUVkQyxXQUFXLEVBQUVMLElBRkM7TUFHZE0sYUFBYSxFQUFFTDtJQUhELENBQWhCOztJQU1BLEtBQUtNLGFBQUwsQ0FBbUJDLFNBQW5CLENBQTZCTCxPQUE3Qjs7SUFDQSxPQUFPLE1BQU0sS0FBS00sc0JBQUwsQ0FBNEJQLE9BQTVCLENBQWI7RUFDRDs7RUFXdUIsTUFBbEJRLGtCQUFrQixDQUFFVixJQUFGLEVBQVFDLGFBQWEsR0FBRyxFQUF4QixFQUE0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
