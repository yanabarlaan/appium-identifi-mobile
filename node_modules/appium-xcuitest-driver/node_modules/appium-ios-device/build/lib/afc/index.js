"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.AfcService = exports.AFC_SERVICE_NAME = void 0;

require("source-map-support/register");

var _lengthBasedSplitter = _interopRequireDefault(require("../util/transformer/length-based-splitter"));

var _protocol = require("./protocol");

var _streams = require("./streams");

var _afcencoder = _interopRequireDefault(require("./transformer/afcencoder"));

var _afcdecoder = _interopRequireDefault(require("./transformer/afcdecoder"));

var _constants = require("../constants");

var _bluebird = _interopRequireDefault(require("bluebird"));

var _path = _interopRequireDefault(require("path"));

var _lodash = _interopRequireDefault(require("lodash"));

var _baseService = require("../base-service");

const AFC_SERVICE_NAME = 'com.apple.afc';
exports.AFC_SERVICE_NAME = AFC_SERVICE_NAME;
const MAX_FRAME_SIZE = 1 * _constants.MB;
const NULL_DELIMITER_CODE = 0x00;
const IGNORED_PATHS = ['.', '..'];

class AfcService extends _baseService.BaseServiceSocket {
  constructor(socketClient) {
    super(socketClient);
    this._splitter = new _lengthBasedSplitter.default({
      readableStream: socketClient,
      littleEndian: true,
      maxFrameLength: MAX_FRAME_SIZE,
      lengthFieldOffset: 8,
      lengthFieldLength: 8,
      lengthAdjustment: -8
    });
    this._decoder = new _afcdecoder.default();

    this._socketClient.pipe(this._splitter).pipe(this._decoder);

    this._encoder = new _afcencoder.default();

    this._encoder.pipe(this._socketClient);

    this._assignClientFailureHandlers(this._encoder);

    this._responseCallbacks = {};
    this._packetNumber = 0;

    this._decoder.on('data', this._handleData.bind(this));
  }

  _handleData(data) {
    const cb = this._responseCallbacks[data.packetNumber] || _lodash.default.noop;
    cb(data);
  }

  async createDirectory(path) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Create directory '${path}'`);

    const data = {
      opCode: _protocol.Operations.MAKE_DIR,
      packetNumber,
      headerPayload: Buffer.from(path)
    };

    this._encoder.write(data);

    const res = await response;

    this._checkStatus(res);
  }

  async deleteDirectory(path) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Delete directory '${path}'`);

    const data = {
      opCode: _protocol.Operations.REMOVE_PATH_AND_CONTENTS,
      packetNumber,
      headerPayload: Buffer.from(path)
    };

    this._encoder.write(data);

    const res = await response;

    this._checkStatus(res);
  }

  async listDirectory(path) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`List directory '${path}'`);

    const data = {
      opCode: _protocol.Operations.READ_DIR,
      packetNumber,
      headerPayload: Buffer.from(path)
    };

    this._encoder.write(data);

    const res = await response;

    if (res.opCode !== _protocol.Operations.DATA) {
      this._checkStatus(res);
    }

    return this._parseArray(res.content);
  }

  async openFile(path, mode) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Open file '${path}'`);

    const pathPayload = Buffer.from(path);
    const fileModePayload = Buffer.alloc(8);
    fileModePayload.writeUInt32LE(mode, 0);
    const data = {
      opCode: _protocol.Operations.FILE_OPEN,
      packetNumber,
      headerPayload: Buffer.concat([fileModePayload, pathPayload])
    };

    this._encoder.write(data);

    const res = await response;

    if (res.opCode !== _protocol.Operations.FILE_OPEN_RES) {
      this._checkStatus(res);
    }

    return res.headerPayload.readUInt32LE(0);
  }

  async createWriteStream(filePath, opts) {
    const fileHandle = await this.openFile(filePath, _protocol.FileModes.w);
    return new _streams.AfcWritableFileStream(fileHandle, this, opts);
  }

  async createReadStream(filePath, options) {
    const fileHandle = await this.openFile(filePath, _protocol.FileModes.r);
    return new _streams.AfcReadableFileStream(fileHandle, this, options);
  }

  async closeFileHandle(fileHandle) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Close file handle '${fileHandle}'`);

    const fileModePayload = Buffer.alloc(8);
    fileModePayload.writeUInt32LE(fileHandle, 0);
    const data = {
      opCode: _protocol.Operations.FILE_CLOSE,
      packetNumber,
      headerPayload: fileModePayload
    };

    this._encoder.write(data);

    const res = await response;

    this._checkStatus(res);
  }

  async writeFile(fileHandle, buffer) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Write to file handle '${fileHandle}'`);

    const headerPayload = Buffer.alloc(8);
    headerPayload.writeUInt32LE(fileHandle, 0);
    const data = {
      opCode: _protocol.Operations.FILE_WRITE,
      packetNumber,
      headerPayload,
      content: buffer
    };

    this._encoder.write(data);

    const res = await response;

    this._checkStatus(res);
  }

  async readFile(fileHandle, length) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Read from file handle '${fileHandle}'`);

    const headerPayload = Buffer.alloc(16);
    headerPayload.writeUInt32LE(fileHandle, 0);
    headerPayload.writeUInt32LE(length, 8);
    const data = {
      opCode: _protocol.Operations.FILE_READ,
      packetNumber,
      headerPayload
    };

    this._encoder.write(data);

    const res = await response;

    if (res.opCode !== _protocol.Operations.DATA) {
      this._checkStatus(res);
    }

    return res.content;
  }

  async getFileInfo(path) {
    const {
      packetNumber,
      response
    } = this._createPacketPromise(`Get file info '${path}'`);

    const data = {
      opCode: _protocol.Operations.GET_FILE_INFO,
      packetNumber,
      headerPayload: Buffer.from(path)
    };

    this._encoder.write(data);

    const res = await response;

    if (res.opCode !== _protocol.Operations.DATA) {
      this._checkStatus(res);
    }

    return new FileInfo(this._parseObject(res.content));
  }

  async walkDir(dir, recursive, onPath) {
    for (const file of await this.listDirectory(dir)) {
      if (IGNORED_PATHS.includes(file)) {
        continue;
      }

      const relativePath = _path.default.posix.join(dir, file);

      const fileInfo = await this.getFileInfo(relativePath);
      const isDirectory = fileInfo.isDirectory();
      await onPath(relativePath, isDirectory);

      if (isDirectory && recursive) {
        await this.walkDir(relativePath, recursive, onPath);
      }
    }
  }

  _checkStatus(res) {
    if (res.opCode !== _protocol.Operations.STATUS) {
      throw new Error(`Unexpected response ${(0, _protocol.operationCode)(res.opCode)}`);
    }

    if (_lodash.default.isEmpty(res.headerPayload)) {
      throw new Error('Header payload cannot be empty for a status response');
    }

    if (res.headerPayload[0] !== _protocol.Errors.SUCCESS) {
      throw new Error(`Unexpected response ${(0, _protocol.errorCode)(res.headerPayload[0])}`);
    }
  }

  _parseArray(buffer) {
    const items = [];
    let start = 0;

    for (let end = 0; end < buffer.length; end++) {
      if (buffer[end] !== NULL_DELIMITER_CODE) {
        continue;
      }

      const item = buffer.toString('utf8', start, end);
      items.push(item);
      start = end + 1;
    }

    return items;
  }

  _parseObject(buffer) {
    const items = {};
    let start = 0;
    let currentKey;

    for (let end = 0; end < buffer.length; end++) {
      if (buffer[end] !== NULL_DELIMITER_CODE) {
        continue;
      }

      const item = buffer.toString('utf8', start, end);

      if (_lodash.default.isNil(currentKey)) {
        currentKey = item;
      } else {
        items[currentKey] = item;
        currentKey = null;
      }

      start = end + 1;
    }

    if (currentKey) {
      throw new Error(`Failed to parse correctly ${buffer}. Please investigate`);
    }

    return items;
  }

  _createPacketPromise(message, timeout = 10000) {
    const packetNumber = this._packetNumber++;
    const response = new _bluebird.default((resolve, reject) => {
      this._responseCallbacks[packetNumber] = resolve;
      setTimeout(function () {
        reject(new Error(`Could not finish the operation '${message}'. Failed to receive any data within the ${timeout}ms timeout`));
      }, timeout);
    });
    return {
      packetNumber,
      response
    };
  }

}

exports.AfcService = AfcService;

class FileInfo {
  constructor({
    st_size,
    st_blocks,
    st_nlink,
    st_ifmt,
    st_mtime,
    st_birthtime
  }) {
    this.size = parseInt(st_size, 10);
    this.blocks = parseInt(st_blocks, 10);
    this.nlink = parseInt(st_nlink, 10);
    this.ifmt = st_ifmt;
    this.mtimeMs = parseInt(st_mtime, 10) / 1000000;
    this.birthtimeMs = parseInt(st_birthtime, 10) / 1000000;
  }

  isDirectory() {
    return this.ifmt === 'S_IFDIR';
  }

  isFile() {
    return this.ifmt === 'S_IFREG';
  }

}

var _default = AfcService;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2FmYy9pbmRleC5qcyIsIm5hbWVzIjpbIkFGQ19TRVJWSUNFX05BTUUiLCJNQVhfRlJBTUVfU0laRSIsIk1CIiwiTlVMTF9ERUxJTUlURVJfQ09ERSIsIklHTk9SRURfUEFUSFMiLCJBZmNTZXJ2aWNlIiwiQmFzZVNlcnZpY2VTb2NrZXQiLCJjb25zdHJ1Y3RvciIsInNvY2tldENsaWVudCIsIl9zcGxpdHRlciIsIkxlbmd0aEJhc2VkU3BsaXR0ZXIiLCJyZWFkYWJsZVN0cmVhbSIsImxpdHRsZUVuZGlhbiIsIm1heEZyYW1lTGVuZ3RoIiwibGVuZ3RoRmllbGRPZmZzZXQiLCJsZW5ndGhGaWVsZExlbmd0aCIsImxlbmd0aEFkanVzdG1lbnQiLCJfZGVjb2RlciIsIkFmY0RlY29kZXIiLCJfc29ja2V0Q2xpZW50IiwicGlwZSIsIl9lbmNvZGVyIiwiQWZjRW5jb2RlciIsIl9hc3NpZ25DbGllbnRGYWlsdXJlSGFuZGxlcnMiLCJfcmVzcG9uc2VDYWxsYmFja3MiLCJfcGFja2V0TnVtYmVyIiwib24iLCJfaGFuZGxlRGF0YSIsImJpbmQiLCJkYXRhIiwiY2IiLCJwYWNrZXROdW1iZXIiLCJfIiwibm9vcCIsImNyZWF0ZURpcmVjdG9yeSIsInBhdGgiLCJyZXNwb25zZSIsIl9jcmVhdGVQYWNrZXRQcm9taXNlIiwib3BDb2RlIiwiT3BlcmF0aW9ucyIsIk1BS0VfRElSIiwiaGVhZGVyUGF5bG9hZCIsIkJ1ZmZlciIsImZyb20iLCJ3cml0ZSIsInJlcyIsIl9jaGVja1N0YXR1cyIsImRlbGV0ZURpcmVjdG9yeSIsIlJFTU9WRV9QQVRIX0FORF9DT05URU5UUyIsImxpc3REaXJlY3RvcnkiLCJSRUFEX0RJUiIsIkRBVEEiLCJfcGFyc2VBcnJheSIsImNvbnRlbnQiLCJvcGVuRmlsZSIsIm1vZGUiLCJwYXRoUGF5bG9hZCIsImZpbGVNb2RlUGF5bG9hZCIsImFsbG9jIiwid3JpdGVVSW50MzJMRSIsIkZJTEVfT1BFTiIsImNvbmNhdCIsIkZJTEVfT1BFTl9SRVMiLCJyZWFkVUludDMyTEUiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImZpbGVQYXRoIiwib3B0cyIsImZpbGVIYW5kbGUiLCJGaWxlTW9kZXMiLCJ3IiwiQWZjV3JpdGFibGVGaWxlU3RyZWFtIiwiY3JlYXRlUmVhZFN0cmVhbSIsIm9wdGlvbnMiLCJyIiwiQWZjUmVhZGFibGVGaWxlU3RyZWFtIiwiY2xvc2VGaWxlSGFuZGxlIiwiRklMRV9DTE9TRSIsIndyaXRlRmlsZSIsImJ1ZmZlciIsIkZJTEVfV1JJVEUiLCJyZWFkRmlsZSIsImxlbmd0aCIsIkZJTEVfUkVBRCIsImdldEZpbGVJbmZvIiwiR0VUX0ZJTEVfSU5GTyIsIkZpbGVJbmZvIiwiX3BhcnNlT2JqZWN0Iiwid2Fsa0RpciIsImRpciIsInJlY3Vyc2l2ZSIsIm9uUGF0aCIsImZpbGUiLCJpbmNsdWRlcyIsInJlbGF0aXZlUGF0aCIsInBvc2l4Iiwiam9pbiIsImZpbGVJbmZvIiwiaXNEaXJlY3RvcnkiLCJTVEFUVVMiLCJFcnJvciIsImlzRW1wdHkiLCJFcnJvcnMiLCJTVUNDRVNTIiwiaXRlbXMiLCJzdGFydCIsImVuZCIsIml0ZW0iLCJ0b1N0cmluZyIsInB1c2giLCJjdXJyZW50S2V5IiwiaXNOaWwiLCJtZXNzYWdlIiwidGltZW91dCIsIkIiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0VGltZW91dCIsInN0X3NpemUiLCJzdF9ibG9ja3MiLCJzdF9ubGluayIsInN0X2lmbXQiLCJzdF9tdGltZSIsInN0X2JpcnRodGltZSIsInNpemUiLCJwYXJzZUludCIsImJsb2NrcyIsIm5saW5rIiwiaWZtdCIsIm10aW1lTXMiLCJiaXJ0aHRpbWVNcyIsImlzRmlsZSJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4iLCJzb3VyY2VzIjpbImxpYi9hZmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgTGVuZ3RoQmFzZWRTcGxpdHRlciBmcm9tICcuLi91dGlsL3RyYW5zZm9ybWVyL2xlbmd0aC1iYXNlZC1zcGxpdHRlcic7XG5pbXBvcnQgeyBPcGVyYXRpb25zLCBvcGVyYXRpb25Db2RlLCBFcnJvcnMsIGVycm9yQ29kZSwgRmlsZU1vZGVzIH0gZnJvbSAnLi9wcm90b2NvbCc7XG5pbXBvcnQgeyBBZmNXcml0YWJsZUZpbGVTdHJlYW0sIEFmY1JlYWRhYmxlRmlsZVN0cmVhbSB9IGZyb20gJy4vc3RyZWFtcyc7XG5pbXBvcnQgQWZjRW5jb2RlciBmcm9tICcuL3RyYW5zZm9ybWVyL2FmY2VuY29kZXInO1xuaW1wb3J0IEFmY0RlY29kZXIgZnJvbSAnLi90cmFuc2Zvcm1lci9hZmNkZWNvZGVyJztcbmltcG9ydCB7IE1CIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBCIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IEJhc2VTZXJ2aWNlU29ja2V0IH0gZnJvbSAnLi4vYmFzZS1zZXJ2aWNlJztcblxuXG5jb25zdCBBRkNfU0VSVklDRV9OQU1FID0gJ2NvbS5hcHBsZS5hZmMnO1xuY29uc3QgTUFYX0ZSQU1FX1NJWkUgPSAxICogTUI7XG5cbmNvbnN0IE5VTExfREVMSU1JVEVSX0NPREUgPSAweDAwO1xuY29uc3QgSUdOT1JFRF9QQVRIUyA9IFsnLicsICcuLiddO1xuXG5jbGFzcyBBZmNTZXJ2aWNlIGV4dGVuZHMgQmFzZVNlcnZpY2VTb2NrZXQge1xuICBjb25zdHJ1Y3RvciAoc29ja2V0Q2xpZW50KSB7XG4gICAgc3VwZXIoc29ja2V0Q2xpZW50KTtcblxuICAgIHRoaXMuX3NwbGl0dGVyID0gbmV3IExlbmd0aEJhc2VkU3BsaXR0ZXIoe1xuICAgICAgcmVhZGFibGVTdHJlYW06IHNvY2tldENsaWVudCxcbiAgICAgIGxpdHRsZUVuZGlhbjogdHJ1ZSxcbiAgICAgIG1heEZyYW1lTGVuZ3RoOiBNQVhfRlJBTUVfU0laRSxcbiAgICAgIGxlbmd0aEZpZWxkT2Zmc2V0OiA4LFxuICAgICAgbGVuZ3RoRmllbGRMZW5ndGg6IDgsXG4gICAgICBsZW5ndGhBZGp1c3RtZW50OiAtOCxcbiAgICB9KTtcbiAgICB0aGlzLl9kZWNvZGVyID0gbmV3IEFmY0RlY29kZXIoKTtcbiAgICB0aGlzLl9zb2NrZXRDbGllbnQucGlwZSh0aGlzLl9zcGxpdHRlcikucGlwZSh0aGlzLl9kZWNvZGVyKTtcblxuICAgIHRoaXMuX2VuY29kZXIgPSBuZXcgQWZjRW5jb2RlcigpO1xuICAgIHRoaXMuX2VuY29kZXIucGlwZSh0aGlzLl9zb2NrZXRDbGllbnQpO1xuICAgIHRoaXMuX2Fzc2lnbkNsaWVudEZhaWx1cmVIYW5kbGVycyh0aGlzLl9lbmNvZGVyKTtcblxuICAgIHRoaXMuX3Jlc3BvbnNlQ2FsbGJhY2tzID0ge307XG5cbiAgICB0aGlzLl9wYWNrZXROdW1iZXIgPSAwO1xuICAgIHRoaXMuX2RlY29kZXIub24oJ2RhdGEnLCB0aGlzLl9oYW5kbGVEYXRhLmJpbmQodGhpcykpO1xuICB9XG5cbiAgX2hhbmRsZURhdGEgKGRhdGEpIHtcbiAgICBjb25zdCBjYiA9IHRoaXMuX3Jlc3BvbnNlQ2FsbGJhY2tzW2RhdGEucGFja2V0TnVtYmVyXSB8fCBfLm5vb3A7XG4gICAgY2IoZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJvbWlzZS9wcmVmZXItYXdhaXQtdG8tY2FsbGJhY2tzXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGRpcmVjdG9yeSByZWxhdGl2ZSB0byBhbiBhbHJlYWR5IGV4aXN0aW5nIGRpcmVjdG9yeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBpbiB1bml4IGZvcm1hdFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlRGlyZWN0b3J5IChwYXRoKSB7XG4gICAgY29uc3Qge3BhY2tldE51bWJlciwgcmVzcG9uc2V9ID0gdGhpcy5fY3JlYXRlUGFja2V0UHJvbWlzZShgQ3JlYXRlIGRpcmVjdG9yeSAnJHtwYXRofSdgKTtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBvcENvZGU6IE9wZXJhdGlvbnMuTUFLRV9ESVIsXG4gICAgICBwYWNrZXROdW1iZXIsXG4gICAgICBoZWFkZXJQYXlsb2FkOiBCdWZmZXIuZnJvbShwYXRoKVxuICAgIH07XG4gICAgdGhpcy5fZW5jb2Rlci53cml0ZShkYXRhKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXNwb25zZTtcbiAgICB0aGlzLl9jaGVja1N0YXR1cyhyZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYXJlIGRpcmVjdG9yeSBjb21wbGV0ZWx5IGV2ZW4gaXQgaGFzIGNvbnRlbnQgaW5zaWRlLiBUaGlzIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mICdybSAtciB7cGF0aH0nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIGluIHVuaXggZm9ybWF0XG4gICAqL1xuICBhc3luYyBkZWxldGVEaXJlY3RvcnkgKHBhdGgpIHtcbiAgICBjb25zdCB7cGFja2V0TnVtYmVyLCByZXNwb25zZX0gPSB0aGlzLl9jcmVhdGVQYWNrZXRQcm9taXNlKGBEZWxldGUgZGlyZWN0b3J5ICcke3BhdGh9J2ApO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG9wQ29kZTogT3BlcmF0aW9ucy5SRU1PVkVfUEFUSF9BTkRfQ09OVEVOVFMsXG4gICAgICBwYWNrZXROdW1iZXIsXG4gICAgICBoZWFkZXJQYXlsb2FkOiBCdWZmZXIuZnJvbShwYXRoKVxuICAgIH07XG4gICAgdGhpcy5fZW5jb2Rlci53cml0ZShkYXRhKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXNwb25zZTtcbiAgICB0aGlzLl9jaGVja1N0YXR1cyhyZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIGEgZGlyZWN0b3J5J3MgY29udGVudHMgYW5kIHJldHVybnMgdGhlbSBpbiBhbiBhcnJheVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBpbiB1bml4IGZvcm1hdFxuICAgKiBAcmV0dXJuIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIGFzeW5jIGxpc3REaXJlY3RvcnkgKHBhdGgpIHtcbiAgICBjb25zdCB7cGFja2V0TnVtYmVyLCByZXNwb25zZX0gPSB0aGlzLl9jcmVhdGVQYWNrZXRQcm9taXNlKGBMaXN0IGRpcmVjdG9yeSAnJHtwYXRofSdgKTtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBvcENvZGU6IE9wZXJhdGlvbnMuUkVBRF9ESVIsXG4gICAgICBwYWNrZXROdW1iZXIsXG4gICAgICBoZWFkZXJQYXlsb2FkOiBCdWZmZXIuZnJvbShwYXRoKVxuICAgIH07XG4gICAgdGhpcy5fZW5jb2Rlci53cml0ZShkYXRhKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXNwb25zZTtcbiAgICBpZiAocmVzLm9wQ29kZSAhPT0gT3BlcmF0aW9ucy5EQVRBKSB7XG4gICAgICB0aGlzLl9jaGVja1N0YXR1cyhyZXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9wYXJzZUFycmF5KHJlcy5jb250ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyBhIGZpbGUgYW5kIGNyZWF0ZXMgYSBmaWxlIGhhbmRsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBpbiB1bml4IGZvcm1hdFxuICAgKiBAcGFyYW0ge251bWJlcn0gbW9kZSBUaGUgZmlsZSBtb2RlIHRoYXQgd2lsbCBiZSB1c2VkXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGFzeW5jIG9wZW5GaWxlIChwYXRoLCBtb2RlKSB7XG4gICAgY29uc3Qge3BhY2tldE51bWJlciwgcmVzcG9uc2V9ID0gdGhpcy5fY3JlYXRlUGFja2V0UHJvbWlzZShgT3BlbiBmaWxlICcke3BhdGh9J2ApO1xuXG4gICAgY29uc3QgcGF0aFBheWxvYWQgPSBCdWZmZXIuZnJvbShwYXRoKTtcbiAgICBjb25zdCBmaWxlTW9kZVBheWxvYWQgPSBCdWZmZXIuYWxsb2MoOCk7XG4gICAgZmlsZU1vZGVQYXlsb2FkLndyaXRlVUludDMyTEUobW9kZSwgMCk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgb3BDb2RlOiBPcGVyYXRpb25zLkZJTEVfT1BFTixcbiAgICAgIHBhY2tldE51bWJlcixcbiAgICAgIGhlYWRlclBheWxvYWQ6IEJ1ZmZlci5jb25jYXQoW2ZpbGVNb2RlUGF5bG9hZCwgcGF0aFBheWxvYWRdKVxuICAgIH07XG4gICAgdGhpcy5fZW5jb2Rlci53cml0ZShkYXRhKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXNwb25zZTtcbiAgICBpZiAocmVzLm9wQ29kZSAhPT0gT3BlcmF0aW9ucy5GSUxFX09QRU5fUkVTKSB7XG4gICAgICB0aGlzLl9jaGVja1N0YXR1cyhyZXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuaGVhZGVyUGF5bG9hZC5yZWFkVUludDMyTEUoMCk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgYSBmaWxlIGFuZCBjcmVhdGVzIGEgbm9kZWpzIHdyaXRlIHN0cmVhbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZVBhdGggVGhlIHBhdGggaW4gdW5peCBmb3JtYXRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgVGhlIHJlZ3VsYXIgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdG8gYSBTdHJlYW0uV3JpdGFibGVcbiAgICogQHJldHVybiB7QWZjV3JpdGFibGVGaWxlU3RyZWFtfVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlV3JpdGVTdHJlYW0gKGZpbGVQYXRoLCBvcHRzKSB7XG4gICAgY29uc3QgZmlsZUhhbmRsZSA9IGF3YWl0IHRoaXMub3BlbkZpbGUoZmlsZVBhdGgsIEZpbGVNb2Rlcy53KTtcbiAgICByZXR1cm4gbmV3IEFmY1dyaXRhYmxlRmlsZVN0cmVhbShmaWxlSGFuZGxlLCB0aGlzLCBvcHRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyBhIGZpbGUgYW5kIGNyZWF0ZXMgYSBub2RlanMgcmVhZCBzdHJlYW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVQYXRoIFRoZSBwYXRoIGluIHVuaXggZm9ybWF0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIFRoZSByZWd1bGFyIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRvIGEgU3RyZWFtLlJlYWRhYmxlXG4gICAqIEByZXR1cm4ge0FmY1JlYWRhYmxlRmlsZVN0cmVhbX1cbiAgICovXG4gIGFzeW5jIGNyZWF0ZVJlYWRTdHJlYW0gKGZpbGVQYXRoLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmlsZUhhbmRsZSA9IGF3YWl0IHRoaXMub3BlbkZpbGUoZmlsZVBhdGgsIEZpbGVNb2Rlcy5yKTtcbiAgICByZXR1cm4gbmV3IEFmY1JlYWRhYmxlRmlsZVN0cmVhbShmaWxlSGFuZGxlLCB0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGZpbGUgaGFuZGxlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmaWxlSGFuZGxlIHRoZSBmaWxlIGhhbmRsZSB0byBiZSBjbG9zZWRcbiAgICovXG4gIGFzeW5jIGNsb3NlRmlsZUhhbmRsZSAoZmlsZUhhbmRsZSkge1xuICAgIGNvbnN0IHtwYWNrZXROdW1iZXIsIHJlc3BvbnNlfSA9IHRoaXMuX2NyZWF0ZVBhY2tldFByb21pc2UoYENsb3NlIGZpbGUgaGFuZGxlICcke2ZpbGVIYW5kbGV9J2ApO1xuXG4gICAgY29uc3QgZmlsZU1vZGVQYXlsb2FkID0gQnVmZmVyLmFsbG9jKDgpO1xuICAgIGZpbGVNb2RlUGF5bG9hZC53cml0ZVVJbnQzMkxFKGZpbGVIYW5kbGUsIDApO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG9wQ29kZTogT3BlcmF0aW9ucy5GSUxFX0NMT1NFLFxuICAgICAgcGFja2V0TnVtYmVyLFxuICAgICAgaGVhZGVyUGF5bG9hZDogZmlsZU1vZGVQYXlsb2FkXG4gICAgfTtcbiAgICB0aGlzLl9lbmNvZGVyLndyaXRlKGRhdGEpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc3BvbnNlO1xuICAgIHRoaXMuX2NoZWNrU3RhdHVzKHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGVzIHRoZSBidWZmZXIgaW50byB0aGUgZ2l2ZW4gZmlsZSBoYW5kbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpbGVIYW5kbGUgVGhlIGZpbGUgaGFuZGxlIHRvIGJlIHVzZWRcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRoYXQgd2lsbCBiZSB3cml0dGVuXG4gICAqL1xuICBhc3luYyB3cml0ZUZpbGUgKGZpbGVIYW5kbGUsIGJ1ZmZlcikge1xuICAgIGNvbnN0IHtwYWNrZXROdW1iZXIsIHJlc3BvbnNlfSA9IHRoaXMuX2NyZWF0ZVBhY2tldFByb21pc2UoYFdyaXRlIHRvIGZpbGUgaGFuZGxlICcke2ZpbGVIYW5kbGV9J2ApO1xuXG4gICAgY29uc3QgaGVhZGVyUGF5bG9hZCA9IEJ1ZmZlci5hbGxvYyg4KTtcbiAgICBoZWFkZXJQYXlsb2FkLndyaXRlVUludDMyTEUoZmlsZUhhbmRsZSwgMCk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgb3BDb2RlOiBPcGVyYXRpb25zLkZJTEVfV1JJVEUsXG4gICAgICBwYWNrZXROdW1iZXIsXG4gICAgICBoZWFkZXJQYXlsb2FkLFxuICAgICAgY29udGVudDogYnVmZmVyXG4gICAgfTtcbiAgICB0aGlzLl9lbmNvZGVyLndyaXRlKGRhdGEpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc3BvbnNlO1xuICAgIHRoaXMuX2NoZWNrU3RhdHVzKHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBhIGNlcnRhaW4gbGVuZ3RoIG9mIGJ1ZmZlciBmcm9tIHRoZSBmaWxlIGhhbmRsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmlsZUhhbmRsZSBUaGUgZmlsZSBoYW5kbGUgdG8gYmUgdXNlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBsZW5ndGggdGhhdCB3YW50cyB0byBiZSByZWFkIGZyb20gdGhlIGZpbGUgaGFuZGxlXG4gICAqIEByZXR1cm4ge0J1ZmZlcn1cbiAgICovXG4gIGFzeW5jIHJlYWRGaWxlIChmaWxlSGFuZGxlLCBsZW5ndGgpIHtcbiAgICBjb25zdCB7cGFja2V0TnVtYmVyLCByZXNwb25zZX0gPSB0aGlzLl9jcmVhdGVQYWNrZXRQcm9taXNlKGBSZWFkIGZyb20gZmlsZSBoYW5kbGUgJyR7ZmlsZUhhbmRsZX0nYCk7XG5cbiAgICBjb25zdCBoZWFkZXJQYXlsb2FkID0gQnVmZmVyLmFsbG9jKDE2KTtcbiAgICBoZWFkZXJQYXlsb2FkLndyaXRlVUludDMyTEUoZmlsZUhhbmRsZSwgMCk7XG4gICAgaGVhZGVyUGF5bG9hZC53cml0ZVVJbnQzMkxFKGxlbmd0aCwgOCk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgb3BDb2RlOiBPcGVyYXRpb25zLkZJTEVfUkVBRCxcbiAgICAgIHBhY2tldE51bWJlcixcbiAgICAgIGhlYWRlclBheWxvYWRcbiAgICB9O1xuICAgIHRoaXMuX2VuY29kZXIud3JpdGUoZGF0YSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVzcG9uc2U7XG4gICAgaWYgKHJlcy5vcENvZGUgIT09IE9wZXJhdGlvbnMuREFUQSkge1xuICAgICAgdGhpcy5fY2hlY2tTdGF0dXMocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5jb250ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsZSBpbmZvIG9mIHRoZSBnaXZlbiBwYXRoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIGluIHVuaXggZm9ybWF0XG4gICAqIEByZXR1cm4ge0ZpbGVJbmZvfVxuICAgKi9cbiAgYXN5bmMgZ2V0RmlsZUluZm8gKHBhdGgpIHtcbiAgICBjb25zdCB7cGFja2V0TnVtYmVyLCByZXNwb25zZX0gPSB0aGlzLl9jcmVhdGVQYWNrZXRQcm9taXNlKGBHZXQgZmlsZSBpbmZvICcke3BhdGh9J2ApO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIG9wQ29kZTogT3BlcmF0aW9ucy5HRVRfRklMRV9JTkZPLFxuICAgICAgcGFja2V0TnVtYmVyLFxuICAgICAgaGVhZGVyUGF5bG9hZDogQnVmZmVyLmZyb20ocGF0aClcbiAgICB9O1xuICAgIHRoaXMuX2VuY29kZXIud3JpdGUoZGF0YSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVzcG9uc2U7XG4gICAgaWYgKHJlcy5vcENvZGUgIT09IE9wZXJhdGlvbnMuREFUQSkge1xuICAgICAgdGhpcy5fY2hlY2tTdGF0dXMocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGaWxlSW5mbyh0aGlzLl9wYXJzZU9iamVjdChyZXMuY29udGVudCkpO1xuICB9XG5cbiAgLyoqIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIGRpcmVjdG9yeSB3YWxraW5nXG4gICAqIEBuYW1lIFdhbGtEaXJDYWxsYmFja1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGl0ZW1QYXRoIFRoZSBwYXRoIG9mIHRoZSBmaWxlIG9yIGZvbGRlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRGlyZWN0b3J5IFNob3dzIGlmIGl0IGlzIGEgZGlyZWN0b3J5IG9yIGEgZmlsZVxuICAqL1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyIFRoZSBwYXRoIGluIHVuaXggZm9ybWF0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVjdXJzaXZlIFNldHMgd2hldGhlciB0byBmb2xsb3cgc3ViIGRpcmVjdG9yaWVzIG9yIG5vdFxuICAgKiBAcGFyYW0ge1dhbGtEaXJDYWxsYmFja30gb25QYXRoIFRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiBhIG5ldyBwYXRoIGlzIGZvdW5kXG4gICAqL1xuICBhc3luYyB3YWxrRGlyIChkaXIsIHJlY3Vyc2l2ZSwgb25QYXRoKSB7XG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGF3YWl0IHRoaXMubGlzdERpcmVjdG9yeShkaXIpKSB7XG4gICAgICBpZiAoSUdOT1JFRF9QQVRIUy5pbmNsdWRlcyhmaWxlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IHBhdGgucG9zaXguam9pbihkaXIsIGZpbGUpO1xuICAgICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLmdldEZpbGVJbmZvKHJlbGF0aXZlUGF0aCk7XG4gICAgICBjb25zdCBpc0RpcmVjdG9yeSA9IGZpbGVJbmZvLmlzRGlyZWN0b3J5KCk7XG4gICAgICBhd2FpdCBvblBhdGgocmVsYXRpdmVQYXRoLCBpc0RpcmVjdG9yeSk7XG4gICAgICBpZiAoaXNEaXJlY3RvcnkgJiYgcmVjdXJzaXZlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMud2Fsa0RpcihyZWxhdGl2ZVBhdGgsIHJlY3Vyc2l2ZSwgb25QYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2hlY2tTdGF0dXMgKHJlcykge1xuICAgIGlmIChyZXMub3BDb2RlICE9PSBPcGVyYXRpb25zLlNUQVRVUykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHJlc3BvbnNlICR7b3BlcmF0aW9uQ29kZShyZXMub3BDb2RlKX1gKTtcbiAgICB9XG4gICAgaWYgKF8uaXNFbXB0eShyZXMuaGVhZGVyUGF5bG9hZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSGVhZGVyIHBheWxvYWQgY2Fubm90IGJlIGVtcHR5IGZvciBhIHN0YXR1cyByZXNwb25zZScpO1xuICAgIH1cbiAgICBpZiAocmVzLmhlYWRlclBheWxvYWRbMF0gIT09IEVycm9ycy5TVUNDRVNTKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcmVzcG9uc2UgJHtlcnJvckNvZGUocmVzLmhlYWRlclBheWxvYWRbMF0pfWApO1xuICAgIH1cbiAgfVxuXG4gIF9wYXJzZUFycmF5IChidWZmZXIpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGxldCBzdGFydCA9IDA7XG4gICAgZm9yIChsZXQgZW5kID0gMDsgZW5kIDwgYnVmZmVyLmxlbmd0aDsgZW5kKyspIHtcbiAgICAgIGlmIChidWZmZXJbZW5kXSAhPT0gTlVMTF9ERUxJTUlURVJfQ09ERSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGl0ZW0gPSBidWZmZXIudG9TdHJpbmcoJ3V0ZjgnLCBzdGFydCwgZW5kKTtcbiAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAvLyBXZSBza2lwIHRoZSBudWxsIGRlbGltZXRlclxuICAgICAgc3RhcnQgPSBlbmQgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cblxuICBfcGFyc2VPYmplY3QgKGJ1ZmZlcikge1xuICAgIGNvbnN0IGl0ZW1zID0ge307XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgY3VycmVudEtleTtcbiAgICBmb3IgKGxldCBlbmQgPSAwOyBlbmQgPCBidWZmZXIubGVuZ3RoOyBlbmQrKykge1xuICAgICAgaWYgKGJ1ZmZlcltlbmRdICE9PSBOVUxMX0RFTElNSVRFUl9DT0RFKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgaXRlbSA9IGJ1ZmZlci50b1N0cmluZygndXRmOCcsIHN0YXJ0LCBlbmQpO1xuICAgICAgaWYgKF8uaXNOaWwoY3VycmVudEtleSkpIHtcbiAgICAgICAgY3VycmVudEtleSA9IGl0ZW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtc1tjdXJyZW50S2V5XSA9IGl0ZW07XG4gICAgICAgIGN1cnJlbnRLZXkgPSBudWxsO1xuICAgICAgfVxuICAgICAgLy8gV2Ugc2tpcCB0aGUgbnVsbCBkZWxpbWV0ZXJcbiAgICAgIHN0YXJ0ID0gZW5kICsgMTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIGNvcnJlY3RseSAke2J1ZmZlcn0uIFBsZWFzZSBpbnZlc3RpZ2F0ZWApO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cblxuICBfY3JlYXRlUGFja2V0UHJvbWlzZSAobWVzc2FnZSwgdGltZW91dCA9IDEwMDAwKSB7XG4gICAgY29uc3QgcGFja2V0TnVtYmVyID0gdGhpcy5fcGFja2V0TnVtYmVyKys7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgQigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9yZXNwb25zZUNhbGxiYWNrc1twYWNrZXROdW1iZXJdID0gcmVzb2x2ZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGBDb3VsZCBub3QgZmluaXNoIHRoZSBvcGVyYXRpb24gJyR7bWVzc2FnZX0nLiBGYWlsZWQgdG8gcmVjZWl2ZSBhbnkgZGF0YSB3aXRoaW4gdGhlICR7dGltZW91dH1tcyB0aW1lb3V0YCkpO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtwYWNrZXROdW1iZXIsIHJlc3BvbnNlfTtcbiAgfVxufVxuXG5jbGFzcyBGaWxlSW5mbyB7XG4gIGNvbnN0cnVjdG9yICh7c3Rfc2l6ZSwgc3RfYmxvY2tzLCBzdF9ubGluaywgc3RfaWZtdCwgc3RfbXRpbWUsIHN0X2JpcnRodGltZX0pIHtcbiAgICB0aGlzLnNpemUgPSBwYXJzZUludChzdF9zaXplLCAxMCk7XG4gICAgdGhpcy5ibG9ja3MgPSBwYXJzZUludChzdF9ibG9ja3MsIDEwKTtcbiAgICB0aGlzLm5saW5rID0gcGFyc2VJbnQoc3RfbmxpbmssIDEwKTtcbiAgICB0aGlzLmlmbXQgPSBzdF9pZm10O1xuICAgIC8vIG5zIHRvIG1zXG4gICAgdGhpcy5tdGltZU1zID0gcGFyc2VJbnQoc3RfbXRpbWUsIDEwKSAvIDEwMDAwMDA7XG4gICAgLy8gbnMgdG8gbXNcbiAgICB0aGlzLmJpcnRodGltZU1zID0gcGFyc2VJbnQoc3RfYmlydGh0aW1lLCAxMCkgLyAxMDAwMDAwO1xuICB9XG5cbiAgaXNEaXJlY3RvcnkgKCkge1xuICAgIHJldHVybiB0aGlzLmlmbXQgPT09ICdTX0lGRElSJztcbiAgfVxuXG4gIGlzRmlsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWZtdCA9PT0gJ1NfSUZSRUcnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFmY1NlcnZpY2U7XG5leHBvcnQgeyBBZmNTZXJ2aWNlLCBBRkNfU0VSVklDRV9OQU1FIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0EsTUFBTUEsZ0JBQWdCLEdBQUcsZUFBekI7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHLElBQUlDLGFBQTNCO0FBRUEsTUFBTUMsbUJBQW1CLEdBQUcsSUFBNUI7QUFDQSxNQUFNQyxhQUFhLEdBQUcsQ0FBQyxHQUFELEVBQU0sSUFBTixDQUF0Qjs7QUFFQSxNQUFNQyxVQUFOLFNBQXlCQyw4QkFBekIsQ0FBMkM7RUFDekNDLFdBQVcsQ0FBRUMsWUFBRixFQUFnQjtJQUN6QixNQUFNQSxZQUFOO0lBRUEsS0FBS0MsU0FBTCxHQUFpQixJQUFJQyw0QkFBSixDQUF3QjtNQUN2Q0MsY0FBYyxFQUFFSCxZQUR1QjtNQUV2Q0ksWUFBWSxFQUFFLElBRnlCO01BR3ZDQyxjQUFjLEVBQUVaLGNBSHVCO01BSXZDYSxpQkFBaUIsRUFBRSxDQUpvQjtNQUt2Q0MsaUJBQWlCLEVBQUUsQ0FMb0I7TUFNdkNDLGdCQUFnQixFQUFFLENBQUM7SUFOb0IsQ0FBeEIsQ0FBakI7SUFRQSxLQUFLQyxRQUFMLEdBQWdCLElBQUlDLG1CQUFKLEVBQWhCOztJQUNBLEtBQUtDLGFBQUwsQ0FBbUJDLElBQW5CLENBQXdCLEtBQUtYLFNBQTdCLEVBQXdDVyxJQUF4QyxDQUE2QyxLQUFLSCxRQUFsRDs7SUFFQSxLQUFLSSxRQUFMLEdBQWdCLElBQUlDLG1CQUFKLEVBQWhCOztJQUNBLEtBQUtELFFBQUwsQ0FBY0QsSUFBZCxDQUFtQixLQUFLRCxhQUF4Qjs7SUFD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
