"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BaseServiceSocket = exports.BaseServicePlist = void 0;

require("source-map-support/register");

class BaseServiceSocket {
  constructor(socketClient) {
    this._socketClient = socketClient;
  }

  _assignClientFailureHandlers(...sourceStreams) {
    for (const evt in ['close', 'end']) {
      this._socketClient.once(evt, () => sourceStreams.map(s => s.unpipe(this._socketClient)));
    }
  }

  close() {
    if (!this._socketClient.destroyed) {
      this._socketClient.end();
    }
  }

}

exports.BaseServiceSocket = BaseServiceSocket;

class BaseServicePlist {
  constructor(plistService) {
    this._plistService = plistService;
  }

  close() {
    this._plistService.close();
  }

}

exports.BaseServicePlist = BaseServicePlist;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2Jhc2Utc2VydmljZS5qcyIsIm5hbWVzIjpbIkJhc2VTZXJ2aWNlU29ja2V0IiwiY29uc3RydWN0b3IiLCJzb2NrZXRDbGllbnQiLCJfc29ja2V0Q2xpZW50IiwiX2Fzc2lnbkNsaWVudEZhaWx1cmVIYW5kbGVycyIsInNvdXJjZVN0cmVhbXMiLCJldnQiLCJvbmNlIiwibWFwIiwicyIsInVucGlwZSIsImNsb3NlIiwiZGVzdHJveWVkIiwiZW5kIiwiQmFzZVNlcnZpY2VQbGlzdCIsInBsaXN0U2VydmljZSIsIl9wbGlzdFNlcnZpY2UiXSwic291cmNlUm9vdCI6Ii4uLy4uIiwic291cmNlcyI6WyJsaWIvYmFzZS1zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEJhc2VTZXJ2aWNlU29ja2V0IHtcbiAgY29uc3RydWN0b3IgKHNvY2tldENsaWVudCkge1xuICAgIHRoaXMuX3NvY2tldENsaWVudCA9IHNvY2tldENsaWVudDtcbiAgfVxuXG4gIF9hc3NpZ25DbGllbnRGYWlsdXJlSGFuZGxlcnMgKC4uLnNvdXJjZVN0cmVhbXMpIHtcbiAgICBmb3IgKGNvbnN0IGV2dCBpbiBbJ2Nsb3NlJywgJ2VuZCddKSB7XG4gICAgICB0aGlzLl9zb2NrZXRDbGllbnQub25jZShldnQsXG4gICAgICAgICgpID0+IHNvdXJjZVN0cmVhbXMubWFwKChzKSA9PiBzLnVucGlwZSh0aGlzLl9zb2NrZXRDbGllbnQpKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgdW5kZXJseWluZyBzb2NrZXQgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBwaG9uZVxuICAgKi9cbiAgY2xvc2UgKCkge1xuICAgIGlmICghdGhpcy5fc29ja2V0Q2xpZW50LmRlc3Ryb3llZCkge1xuICAgICAgdGhpcy5fc29ja2V0Q2xpZW50LmVuZCgpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBCYXNlU2VydmljZVBsaXN0IHtcbiAgY29uc3RydWN0b3IgKHBsaXN0U2VydmljZSkge1xuICAgIHRoaXMuX3BsaXN0U2VydmljZSA9IHBsaXN0U2VydmljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHVuZGVybHlpbmcgc29ja2V0IGNvbW11bmljYXRpbmcgd2l0aCB0aGUgcGhvbmVcbiAgICovXG4gIGNsb3NlICgpIHtcbiAgICB0aGlzLl9wbGlzdFNlcnZpY2UuY2xvc2UoKTtcbiAgfVxufVxuXG5cbmV4cG9ydCB7IEJhc2VTZXJ2aWNlU29ja2V0LCBCYXNlU2VydmljZVBsaXN0IH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE1BQU1BLGlCQUFOLENBQXdCO0VBQ3RCQyxXQUFXLENBQUVDLFlBQUYsRUFBZ0I7SUFDekIsS0FBS0MsYUFBTCxHQUFxQkQsWUFBckI7RUFDRDs7RUFFREUsNEJBQTRCLENBQUUsR0FBR0MsYUFBTCxFQUFvQjtJQUM5QyxLQUFLLE1BQU1DLEdBQVgsSUFBa0IsQ0FBQyxPQUFELEVBQVUsS0FBVixDQUFsQixFQUFvQztNQUNsQyxLQUFLSCxhQUFMLENBQW1CSSxJQUFuQixDQUF3QkQsR0FBeEIsRUFDRSxNQUFNRCxhQUFhLENBQUNHLEdBQWQsQ0FBbUJDLENBQUQsSUFBT0EsQ0FBQyxDQUFDQyxNQUFGLENBQVMsS0FBS1AsYUFBZCxDQUF6QixDQURSO0lBRUQ7RUFDRjs7RUFLRFEsS0FBSyxHQUFJO0lBQ1AsSUFBSSxDQUFDLEtBQUtSLGFBQUwsQ0FBbUJTLFNBQXhCLEVBQW1DO01BQ2pDLEtBQUtULGFBQUwsQ0FBbUJVLEdBQW5CO0lBQ0Q7RUFDRjs7QUFuQnFCOzs7O0FBc0J4QixNQUFNQyxnQkFBTixDQUF1QjtFQUNyQmIsV0FBVyxDQUFFYyxZQUFGLEVBQWdCO0lBQ3pCLEtBQUtDLGFBQUwsR0FBcUJELFlBQXJCO0VBQ0Q7O0VBS0RKLEtBQUssR0FBSTtJQUNQLEtBQUtLLGFBQUwsQ0FBbUJMLEtBQW5CO0VBQ0Q7O0FBVm9CIn0=
