'use strict';

require("source-map-support/register");

const B = require('bluebird');

const vinylPaths = require('vinyl-paths');

const del = require('del');

const debug = require('gulp-debug');

const gulpIf = require('gulp-if');

const {
  isVerbose
} = require('../utils');

const configure = function configure(gulp, opts) {
  gulp.task('clean', function clean() {
    if (opts.transpile) {
      return gulp.src(opts.transpileOut, {
        read: false,
        allowEmpty: true
      }).pipe(gulpIf(isVerbose(), debug())).pipe(vinylPaths(del));
    } else {
      return B.resolve();
    }
  });
};

module.exports = {
  configure
};require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3Rhc2tzL2NsZWFuLmpzIiwibmFtZXMiOlsiQiIsInJlcXVpcmUiLCJ2aW55bFBhdGhzIiwiZGVsIiwiZGVidWciLCJndWxwSWYiLCJpc1ZlcmJvc2UiLCJjb25maWd1cmUiLCJndWxwIiwib3B0cyIsInRhc2siLCJjbGVhbiIsInRyYW5zcGlsZSIsInNyYyIsInRyYW5zcGlsZU91dCIsInJlYWQiLCJhbGxvd0VtcHR5IiwicGlwZSIsInJlc29sdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLiIsInNvdXJjZXMiOlsibGliL3Rhc2tzL2NsZWFuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQiA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5jb25zdCB2aW55bFBhdGhzID0gcmVxdWlyZSgndmlueWwtcGF0aHMnKTtcbmNvbnN0IGRlbCA9IHJlcXVpcmUoJ2RlbCcpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdndWxwLWRlYnVnJyk7XG5jb25zdCBndWxwSWYgPSByZXF1aXJlKCdndWxwLWlmJyk7XG5jb25zdCB7IGlzVmVyYm9zZSB9ID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuXG5jb25zdCBjb25maWd1cmUgPSBmdW5jdGlvbiBjb25maWd1cmUgKGd1bHAsIG9wdHMpIHtcbiAgZ3VscC50YXNrKCdjbGVhbicsIGZ1bmN0aW9uIGNsZWFuICgpIHtcbiAgICBpZiAob3B0cy50cmFuc3BpbGUpIHtcbiAgICAgIHJldHVybiBndWxwXG4gICAgICAgIC5zcmMob3B0cy50cmFuc3BpbGVPdXQsIHtcbiAgICAgICAgICByZWFkOiBmYWxzZSxcbiAgICAgICAgICBhbGxvd0VtcHR5OiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICAucGlwZShndWxwSWYoaXNWZXJib3NlKCksIGRlYnVnKCkpKVxuICAgICAgICAucGlwZSh2aW55bFBhdGhzKGRlbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gQi5yZXNvbHZlKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb25maWd1cmUsXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU1BLENBQUMsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBakI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxLQUFELENBQW5COztBQUNBLE1BQU1HLEtBQUssR0FBR0gsT0FBTyxDQUFDLFlBQUQsQ0FBckI7O0FBQ0EsTUFBTUksTUFBTSxHQUFHSixPQUFPLENBQUMsU0FBRCxDQUF0Qjs7QUFDQSxNQUFNO0VBQUVLO0FBQUYsSUFBZ0JMLE9BQU8sQ0FBQyxVQUFELENBQTdCOztBQUdBLE1BQU1NLFNBQVMsR0FBRyxTQUFTQSxTQUFULENBQW9CQyxJQUFwQixFQUEwQkMsSUFBMUIsRUFBZ0M7RUFDaERELElBQUksQ0FBQ0UsSUFBTCxDQUFVLE9BQVYsRUFBbUIsU0FBU0MsS0FBVCxHQUFrQjtJQUNuQyxJQUFJRixJQUFJLENBQUNHLFNBQVQsRUFBb0I7TUFDbEIsT0FBT0osSUFBSSxDQUNSSyxHQURJLENBQ0FKLElBQUksQ0FBQ0ssWUFETCxFQUNtQjtRQUN0QkMsSUFBSSxFQUFFLEtBRGdCO1FBRXRCQyxVQUFVLEVBQUU7TUFGVSxDQURuQixFQUtKQyxJQUxJLENBS0NaLE1BQU0sQ0FBQ0MsU0FBUyxFQUFWLEVBQWNGLEtBQUssRUFBbkIsQ0FMUCxFQU1KYSxJQU5JLENBTUNmLFVBQVUsQ0FBQ0MsR0FBRCxDQU5YLENBQVA7SUFPRCxDQVJELE1BUU87TUFDTCxPQUFPSCxDQUFDLENBQUNrQixPQUFGLEVBQVA7SUFDRDtFQUNGLENBWkQ7QUFhRCxDQWREOztBQWdCQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZiO0FBRGUsQ0FBakIifQ==
